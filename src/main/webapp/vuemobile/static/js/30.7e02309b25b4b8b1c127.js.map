{"version":3,"sources":["webpack:///static/js/30.7e02309b25b4b8b1c127.js","webpack:///./src/components/oa/SignHistory.vue?4ec3","webpack:///src/components/oa/SignHistory.vue","webpack:///./src/components/oa/SignHistory.vue","webpack:///./src/components/oa/SignHistory.vue?c84a","webpack:///./src/components/oa/SignHistory.vue?ca45","webpack:///./src/components/oa/SignHistory.vue?9d58"],"names":["webpackJsonp","1202","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_1__babel_loader_node_modules_vux_loader_src_script_loader_js_node_modules_vue_loader_lib_selector_type_script_index_0_SignHistory_vue__","__WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_lib_template_compiler_index_id_data_v_41ce95ca_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vux_loader_src_before_template_compiler_loader_js_node_modules_vux_loader_src_template_loader_js_node_modules_vue_loader_lib_selector_type_template_index_0_SignHistory_vue__","normalizeComponent","__vue_styles__","Component","1469","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1_vux__","__WEBPACK_IMPORTED_MODULE_2__assets_util_js__","1515","__WEBPACK_IMPORTED_MODULE_1_vux_src_components_inline_calendar_index_vue__","__WEBPACK_IMPORTED_MODULE_2_vux_src_components_group_index_vue__","__WEBPACK_IMPORTED_MODULE_3_vux_src_components_x_switch_index_vue__","__WEBPACK_IMPORTED_MODULE_4_vux_src_components_radio_index_vue__","__WEBPACK_IMPORTED_MODULE_5_vux_src_components_x_button_index_vue__","__WEBPACK_IMPORTED_MODULE_6_vux_src_components_cell_index_vue__","__WEBPACK_IMPORTED_MODULE_7_vux_src_components_divider_index_vue__","__WEBPACK_IMPORTED_MODULE_8__assets_util_js__","methods","onChange","val","_this","this","url","_baseUrl","console","log","formDateStr","Date","parse","Format","getSessionJSON","signDate","cacheData","i","length","date","split","push","hrdutyRegister","$ajax","method","params","then","response","data","catch","error","onViewChange","index","firstDate","firstCurrentMonthDate","getMonthSignRecord","dateStr","_this2","info","thisMonthSignData","renderSignDate","success","setSessionCache","getInOrOutFlag","getSignFlag","signDateArray","signDateNumArray","buildSlotFn","line","indexOf","formatedDate","show","listValue","range","highlightWeekend","return6Rows","hideHeader","hideWeekList","replaceTextList","replace","changeWeeksList","weeksList","useCustomFn","disablePast","disableFuture","showLastMonth","showNextMonth","renderOnChange","watch","TODAY","test","newVal","oldVal","components","InlineCalendar","Group","XSwitch","Radio","XButton","Cell","Divider","created","nowDate","getFullYear","getMonth","getDay","1537","exports","version","sources","names","mappings","file","sourcesContent","sourceRoot","1584","content","locals","1632","render","_vm","_h","$createElement","_c","_self","attrs","slot","title","on","click","goBack","_v","staticClass","render-on-value-change","start-date","end-date","highlight-weekend","return-six-rows","hide-header","hide-week-list","replace-text-list","weeks-list","render-function","disable-past","disable-future","show-last-month","show-next-month","on-change","on-view-change","update:show","$event","model","callback","$$v","expression","_l","item","key","pkId","_s","addresses","registerTime","inOffFlag","regFlag","userName","staticRenderFns","esExports"],"mappings":"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","file":"static/js/30.7e02309b25b4b8b1c127.js","sourcesContent":["webpackJsonp([30],{\n\n/***/ 1202:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_SignHistory_vue__ = __webpack_require__(1469);\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_loader_node_modules_vux_loader_src_script_loader_js_node_modules_vue_loader_lib_selector_type_script_index_0_SignHistory_vue__ = __webpack_require__(1515);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_lib_template_compiler_index_id_data_v_41ce95ca_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vux_loader_src_before_template_compiler_loader_js_node_modules_vux_loader_src_template_loader_js_node_modules_vue_loader_lib_selector_type_template_index_0_SignHistory_vue__ = __webpack_require__(1632);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(1584)\n}\nvar normalizeComponent = __webpack_require__(1)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-41ce95ca\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_1__babel_loader_node_modules_vux_loader_src_script_loader_js_node_modules_vue_loader_lib_selector_type_script_index_0_SignHistory_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_lib_template_compiler_index_id_data_v_41ce95ca_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vux_loader_src_before_template_compiler_loader_js_node_modules_vux_loader_src_template_loader_js_node_modules_vue_loader_lib_selector_type_template_index_0_SignHistory_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 1469:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vux__ = __webpack_require__(197);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__assets_util_js__ = __webpack_require__(83);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* unused harmony default export */ var _unused_webpack_default_export = ({\n\tmethods: {\n\t\tonChange: function onChange(val) {\n\t\t\tvar _this = this;\n\n\t\t\tvar url = _baseUrl + \"/mobile/oa/getSignHistory.do\";\n\t\t\tconsole.log('on-change', val);\n\t\t\tvar formDateStr = new Date(Date.parse(val)).Format(\"yyyy-MM\");\n\t\t\t//找缓存\n\t\t\tif (__WEBPACK_IMPORTED_MODULE_2__assets_util_js__[\"a\" /* RxUtil */].getSessionJSON(formDateStr) !== null) {\n\t\t\t\tvar signDate = [];\n\t\t\t\tvar cacheData = __WEBPACK_IMPORTED_MODULE_2__assets_util_js__[\"a\" /* RxUtil */].getSessionJSON(formDateStr);\n\t\t\t\tfor (var i = 0; i < cacheData.length; i++) {\n\t\t\t\t\tif (val == cacheData[i].date.split(' ')[0]) {\n\t\t\t\t\t\tsignDate.push(cacheData[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.hrdutyRegister = signDate;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.$ajax({\n\t\t\t\turl: url,\n\t\t\t\tmethod: 'post',\n\t\t\t\tparams: {\n\t\t\t\t\tdate: this.value\n\t\t\t\t}\n\t\t\t}).then(function (response) {\n\t\t\t\tconsole.log(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(response));\n\t\t\t\t_this.hrdutyRegister = response.data.data;\n\t\t\t}).catch(function (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t\t},\n\t\tonViewChange: function onViewChange(data, index) {\n\t\t\tif (index == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.firstDate = data.firstCurrentMonthDate;\n\t\t},\n\t\tgetMonthSignRecord: function getMonthSignRecord(dateStr) {\n\t\t\tvar _this2 = this;\n\n\t\t\t//dateStr:'2017-01-01'\n\t\t\tvar formDateStr = new Date(Date.parse(dateStr)).Format(\"yyyy-MM\");\n\t\t\tconsole.info(formDateStr);\n\t\t\t//有缓存\n\t\t\tif (__WEBPACK_IMPORTED_MODULE_2__assets_util_js__[\"a\" /* RxUtil */].getSessionJSON(formDateStr) !== null) {\n\t\t\t\tconsole.info(\"缓存key:\" + formDateStr);\n\t\t\t\tthis.thisMonthSignData = __WEBPACK_IMPORTED_MODULE_2__assets_util_js__[\"a\" /* RxUtil */].getSessionJSON(formDateStr);\n\t\t\t\tthis.renderSignDate(this.thisMonthSignData);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar url = _baseUrl + \"/mobile/oa/getUserMonthSignRecord.do\";\n\t\t\t//根据账号请求本月考勤数据\n\t\t\tthis.$ajax({\n\t\t\t\turl: url,\n\t\t\t\tmethod: 'POST',\n\t\t\t\tparams: {\n\t\t\t\t\tdate: dateStr\n\t\t\t\t}\n\t\t\t}).then(function (response) {\n\t\t\t\tif (response.data.success) {\n\t\t\t\t\t_this2.thisMonthSignData = response.data.data;\n\t\t\t\t\t//将当月数据缓存起来\t\t\t\t\t\t\n\t\t\t\t\t__WEBPACK_IMPORTED_MODULE_2__assets_util_js__[\"a\" /* RxUtil */].setSessionCache(formDateStr, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_this2.thisMonthSignData));\n\t\t\t\t\t_this2.renderSignDate(_this2.thisMonthSignData);\n\t\t\t\t}\n\t\t\t}).catch(function (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t\t},\n\t\tgetInOrOutFlag: function getInOrOutFlag(val) {\n\t\t\tif (val == \"1\") {\n\t\t\t\treturn \"签到\";\n\t\t\t} else {\n\t\t\t\treturn \"签退\";\n\t\t\t}\n\t\t},\n\n\t\t//1正常、2迟到、3早退\n\t\tgetSignFlag: function getSignFlag(val) {\n\t\t\tif (val == \"1\") {\n\t\t\t\treturn \"<正常>\";\n\t\t\t} else if (val == \"2\") {\n\t\t\t\treturn \"<迟到>\";\n\t\t\t} else {\n\t\t\t\treturn \"<早退>\";\n\t\t\t}\n\t\t},\n\n\t\t//签到数据与日历数据匹配\n\t\trenderSignDate: function renderSignDate(signDateArray) {\n\t\t\tvar signDateNumArray = [];\n\t\t\tfor (var i = 0; i < signDateArray.length; i++) {\n\t\t\t\tvar signDate = signDateArray[i].date.split(' ')[0];\n\t\t\t\tconsole.info(\"后台的数据:\" + signDate);\n\t\t\t\tsignDateNumArray.push(signDate);\n\t\t\t}\n\t\t\tconsole.info(\"签到的日期:\" + signDateNumArray);\n\t\t\tthis.buildSlotFn = function (line, index, data) {\n\t\t\t\t//使用日期进行匹配\n\t\t\t\treturn signDateNumArray.indexOf(data.formatedDate) != -1 ? '<div style=\"font-size:12px;text-align:center;\"><span style=\"display:inline-block;width:5px;height:5px;background-color:red;border-radius:50%;\"></span></div>' : '<div style=\"height:19px;\"></div>';\n\t\t\t};\n\t\t}\n\t},\n\tdata: function data() {\n\t\treturn {\n\t\t\tshow: true,\n\t\t\tvalue: '',\n\t\t\tlistValue: '',\n\t\t\trange: false,\n\t\t\thighlightWeekend: false,\n\t\t\treturn6Rows: true,\n\t\t\thideHeader: false,\n\t\t\thideWeekList: false,\n\t\t\treplaceTextList: {},\n\t\t\treplace: false,\n\t\t\tchangeWeeksList: false,\n\t\t\tweeksList: ['日', '一', '二', '三', '四', '五', '六 '],\n\t\t\tuseCustomFn: false,\n\t\t\tbuildSlotFn: function buildSlotFn() {\n\t\t\t\treturn '';\n\t\t\t},\n\t\t\tdisablePast: false,\n\t\t\tdisableFuture: true,\n\t\t\thrdutyRegister: [],\n\t\t\tshowLastMonth: true,\n\t\t\tshowNextMonth: true,\n\t\t\tthisMonthSignData: [],\n\t\t\tfirstDate: \"\",\n\t\t\trenderOnChange: true\n\t\t};\n\t},\n\n\twatch: {\n\t\treplace: function replace(val) {\n\t\t\tthis.replaceTextList = val ? {\n\t\t\t\t'TODAY': '今'\n\t\t\t} : {};\n\t\t},\n\t\tuseCustomFn: function useCustomFn(val) {\n\t\t\tthis.buildSlotFn = val ? function (line, index, data) {\n\t\t\t\t//console.info(\"这里的值是:\" + line + \",\" +index+ \",\"  + JSON.stringify(data));\n\t\t\t\treturn (/9/.test(data.date) ? '<div style=\"font-size:12px;text-align:center;\"><span style=\"display:inline-block;width:5px;height:5px;background-color:red;border-radius:50%;\"></span></div>' : '<div style=\"height:19px;\"></div>'\n\t\t\t\t);\n\t\t\t} : function () {\n\t\t\t\treturn '';\n\t\t\t};\n\t\t},\n\t\tchangeWeeksList: function changeWeeksList(val) {\n\t\t\tthis.weeksList = val ? ['日', '一', '二', '三', '四', '五', '六 '] : ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];\n\t\t},\n\t\tfirstDate: function firstDate(newVal, oldVal) {\n\t\t\t//console.info(\"新值:\" + JSON.stringify(newVal));\n\t\t\tthis.getMonthSignRecord(newVal);\n\t\t}\n\t},\n\tcomponents: {\n\t\tInlineCalendar: __WEBPACK_IMPORTED_MODULE_1_vux__[\"j\" /* InlineCalendar */],\n\t\tGroup: __WEBPACK_IMPORTED_MODULE_1_vux__[\"c\" /* Group */],\n\t\tXSwitch: __WEBPACK_IMPORTED_MODULE_1_vux__[\"k\" /* XSwitch */],\n\t\tRadio: __WEBPACK_IMPORTED_MODULE_1_vux__[\"l\" /* Radio */],\n\t\tXButton: __WEBPACK_IMPORTED_MODULE_1_vux__[\"i\" /* XButton */],\n\t\tCell: __WEBPACK_IMPORTED_MODULE_1_vux__[\"d\" /* Cell */],\n\t\tDivider: __WEBPACK_IMPORTED_MODULE_1_vux__[\"m\" /* Divider */]\n\t},\n\n\tcreated: function created() {\n\t\tvar nowDate = new Date();\n\t\tthis.firstDate = nowDate.getFullYear() + \"-\" + (nowDate.getMonth() + 1) + \"-\" + nowDate.getDay();\n\t\t//this.getMonthSignRecord(this.firstDate);\n\t}\n});\n\n/***/ }),\n\n/***/ 1515:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vux_src_components_inline_calendar_index_vue__ = __webpack_require__(130);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vux_src_components_group_index_vue__ = __webpack_require__(129);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vux_src_components_x_switch_index_vue__ = __webpack_require__(341);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vux_src_components_radio_index_vue__ = __webpack_require__(131);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vux_src_components_x_button_index_vue__ = __webpack_require__(330);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_vux_src_components_cell_index_vue__ = __webpack_require__(57);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_vux_src_components_divider_index_vue__ = __webpack_require__(333);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__assets_util_js__ = __webpack_require__(83);\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  methods: {\n    onChange: function onChange(val) {\n      var _this = this;\n\n      var url = _baseUrl + \"/mobile/oa/getSignHistory.do\";\n      console.log('on-change', val);\n      var formDateStr = new Date(Date.parse(val)).Format(\"yyyy-MM\");\n\n      if (__WEBPACK_IMPORTED_MODULE_8__assets_util_js__[\"a\" /* RxUtil */].getSessionJSON(formDateStr) !== null) {\n        var signDate = [];\n        var cacheData = __WEBPACK_IMPORTED_MODULE_8__assets_util_js__[\"a\" /* RxUtil */].getSessionJSON(formDateStr);\n        for (var i = 0; i < cacheData.length; i++) {\n          if (val == cacheData[i].date.split(' ')[0]) {\n            signDate.push(cacheData[i]);\n          }\n        }\n        this.hrdutyRegister = signDate;\n        return;\n      }\n      this.$ajax({\n        url: url,\n        method: 'post',\n        params: {\n          date: this.value\n        }\n      }).then(function (response) {\n        console.log(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(response));\n        _this.hrdutyRegister = response.data.data;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    onViewChange: function onViewChange(data, index) {\n      if (index == 0) {\n        return;\n      }\n      this.firstDate = data.firstCurrentMonthDate;\n    },\n    getMonthSignRecord: function getMonthSignRecord(dateStr) {\n      var _this2 = this;\n\n      //dateStr:'2017-01-01'\n      var formDateStr = new Date(Date.parse(dateStr)).Format(\"yyyy-MM\");\n      console.info(formDateStr);\n\n      if (__WEBPACK_IMPORTED_MODULE_8__assets_util_js__[\"a\" /* RxUtil */].getSessionJSON(formDateStr) !== null) {\n        console.info(\"缓存key:\" + formDateStr);\n        this.thisMonthSignData = __WEBPACK_IMPORTED_MODULE_8__assets_util_js__[\"a\" /* RxUtil */].getSessionJSON(formDateStr);\n        this.renderSignDate(this.thisMonthSignData);\n        return;\n      }\n\n      var url = _baseUrl + \"/mobile/oa/getUserMonthSignRecord.do\";\n\n      this.$ajax({\n        url: url,\n        method: 'POST',\n        params: {\n          date: dateStr\n        }\n      }).then(function (response) {\n        if (response.data.success) {\n          _this2.thisMonthSignData = response.data.data;\n\n          __WEBPACK_IMPORTED_MODULE_8__assets_util_js__[\"a\" /* RxUtil */].setSessionCache(formDateStr, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_this2.thisMonthSignData));\n          _this2.renderSignDate(_this2.thisMonthSignData);\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    getInOrOutFlag: function getInOrOutFlag(val) {\n      if (val == \"1\") {\n        return \"签到\";\n      } else {\n        return \"签退\";\n      }\n    },\n    getSignFlag: function getSignFlag(val) {\n      if (val == \"1\") {\n        return \"<正常>\";\n      } else if (val == \"2\") {\n        return \"<迟到>\";\n      } else {\n        return \"<早退>\";\n      }\n    },\n    renderSignDate: function renderSignDate(signDateArray) {\n      var signDateNumArray = [];\n      for (var i = 0; i < signDateArray.length; i++) {\n        var signDate = signDateArray[i].date.split(' ')[0];\n        console.info(\"后台的数据:\" + signDate);\n        signDateNumArray.push(signDate);\n      }\n      console.info(\"签到的日期:\" + signDateNumArray);\n      this.buildSlotFn = function (line, index, data) {\n\n        return signDateNumArray.indexOf(data.formatedDate) != -1 ? '<div style=\"font-size:12px;text-align:center;\"><span style=\"display:inline-block;width:5px;height:5px;background-color:red;border-radius:50%;\"></span></div>' : '<div style=\"height:19px;\"></div>';\n      };\n    }\n  },\n  data: function data() {\n    return {\n      show: true,\n      value: '',\n      listValue: '',\n      range: false,\n      highlightWeekend: false,\n      return6Rows: true,\n      hideHeader: false,\n      hideWeekList: false,\n      replaceTextList: {},\n      replace: false,\n      changeWeeksList: false,\n      weeksList: ['日', '一', '二', '三', '四', '五', '六 '],\n      useCustomFn: false,\n      buildSlotFn: function buildSlotFn() {\n        return '';\n      },\n      disablePast: false,\n      disableFuture: true,\n      hrdutyRegister: [],\n      showLastMonth: true,\n      showNextMonth: true,\n      thisMonthSignData: [],\n      firstDate: \"\",\n      renderOnChange: true\n    };\n  },\n\n  watch: {\n    replace: function replace(val) {\n      this.replaceTextList = val ? {\n        'TODAY': '今'\n      } : {};\n    },\n    useCustomFn: function useCustomFn(val) {\n      this.buildSlotFn = val ? function (line, index, data) {\n\n        return (/9/.test(data.date) ? '<div style=\"font-size:12px;text-align:center;\"><span style=\"display:inline-block;width:5px;height:5px;background-color:red;border-radius:50%;\"></span></div>' : '<div style=\"height:19px;\"></div>'\n        );\n      } : function () {\n        return '';\n      };\n    },\n    changeWeeksList: function changeWeeksList(val) {\n      this.weeksList = val ? ['日', '一', '二', '三', '四', '五', '六 '] : ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];\n    },\n    firstDate: function firstDate(newVal, oldVal) {\n\n      this.getMonthSignRecord(newVal);\n    }\n  },\n  components: {\n    InlineCalendar: __WEBPACK_IMPORTED_MODULE_1_vux_src_components_inline_calendar_index_vue__[\"a\" /* default */],\n    Group: __WEBPACK_IMPORTED_MODULE_2_vux_src_components_group_index_vue__[\"a\" /* default */],\n    XSwitch: __WEBPACK_IMPORTED_MODULE_3_vux_src_components_x_switch_index_vue__[\"a\" /* default */],\n    Radio: __WEBPACK_IMPORTED_MODULE_4_vux_src_components_radio_index_vue__[\"a\" /* default */],\n    XButton: __WEBPACK_IMPORTED_MODULE_5_vux_src_components_x_button_index_vue__[\"a\" /* default */],\n    Cell: __WEBPACK_IMPORTED_MODULE_6_vux_src_components_cell_index_vue__[\"a\" /* default */],\n    Divider: __WEBPACK_IMPORTED_MODULE_7_vux_src_components_divider_index_vue__[\"a\" /* default */]\n  },\n\n  created: function created() {\n    var nowDate = new Date();\n    this.firstDate = nowDate.getFullYear() + \"-\" + (nowDate.getMonth() + 1) + \"-\" + nowDate.getDay();\n  }\n});\n\n/***/ }),\n\n/***/ 1537:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(327)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".inline-calendar-demo[data-v-41ce95ca]{background:hsla(0,0%,100%,.9)}\", \"\", {\"version\":3,\"sources\":[\"E:/work/redxun/mobile/mobile/src/components/oa/SignHistory.vue\"],\"names\":[],\"mappings\":\"AACA,uCACE,6BAAqC,CACtC\",\"file\":\"SignHistory.vue\",\"sourcesContent\":[\"\\n.inline-calendar-demo[data-v-41ce95ca] {\\n  background: rgba(255, 255, 255, 0.9);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 1584:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(1537);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(1169)(\"e22aae0a\", content, true);\n\n/***/ }),\n\n/***/ 1632:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('yd-layout',[_c('yd-navbar',{attrs:{\"slot\":\"navbar\",\"title\":\"签到记录\"},slot:\"navbar\"},[_c('a',{attrs:{\"slot\":\"left\"},on:{\"click\":_vm.goBack},slot:\"left\"},[_c('yd-navbar-back-icon')],1)]),_vm._v(\" \"),_c('div',[_c('inline-calendar',{staticClass:\"inline-calendar-demo\",attrs:{\"render-on-value-change\":\"\",\"show\":_vm.show,\"start-date\":\"2016-04-01\",\"end-date\":\"2018-05-30\",\"range\":_vm.range,\"highlight-weekend\":\"true\",\"return-six-rows\":_vm.return6Rows,\"hide-header\":_vm.hideHeader,\"hide-week-list\":_vm.hideWeekList,\"replace-text-list\":_vm.replaceTextList,\"weeks-list\":_vm.weeksList,\"render-function\":_vm.buildSlotFn,\"disable-past\":_vm.disablePast,\"disable-future\":_vm.disableFuture,\"show-last-month\":_vm.showLastMonth,\"show-next-month\":_vm.showNextMonth},on:{\"on-change\":_vm.onChange,\"on-view-change\":_vm.onViewChange,\"update:show\":function($event){_vm.show=$event}},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_vm._v(\" \"),_c('group',[_c('cell',{attrs:{\"title\":\"当前日期\",\"value\":_vm.value}})],1),_vm._v(\" \"),_c('yd-cell-group',_vm._l((_vm.hrdutyRegister),function(item){return _c('yd-cell-item',{key:item.pkId},[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_vm._v(_vm._s(item.addresses)),_c('br'),_vm._v(_vm._s(item.registerTime)+\" \"+_vm._s(_vm.getInOrOutFlag(item.inOffFlag))+\" \"+_vm._s(_vm.getSignFlag(item.regFlag)))]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_vm._v(_vm._s(item.userName))])])}))],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/30.7e02309b25b4b8b1c127.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-41ce95ca\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SignHistory.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SignHistory.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SignHistory.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-41ce95ca\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SignHistory.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-41ce95ca\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/oa/SignHistory.vue\n// module id = 1202\n// module chunks = 30","<template>\r\n\t<yd-layout>\r\n\t\t<yd-navbar slot=\"navbar\" title=\"签到记录\">\r\n\t\t\t<a @click=\"goBack\" slot=\"left\">\r\n\t\t\t\t<yd-navbar-back-icon></yd-navbar-back-icon>\r\n\t\t\t</a>\r\n\r\n\t\t</yd-navbar>\r\n\t\t<div>\r\n\t\t\t<inline-calendar @on-change=\"onChange\" @on-view-change=\"onViewChange\"  render-on-value-change  class=\"inline-calendar-demo\" :show.sync=\"show\" v-model=\"value\" start-date=\"2016-04-01\" end-date=\"2018-05-30\" :range=\"range\" highlight-weekend=true :return-six-rows=\"return6Rows\" :hide-header=\"hideHeader\" :hide-week-list=\"hideWeekList\" :replace-text-list=\"replaceTextList\" :weeks-list=\"weeksList\" :render-function=\"buildSlotFn\" :disable-past=\"disablePast\" :disable-future=\"disableFuture\" :show-last-month=\"showLastMonth\" :show-next-month=\"showNextMonth\">\r\n\t\t\t</inline-calendar>\r\n\t\t\t<!--<group title=\"custom every day cell\">\r\n\t\t   \t <x-switch v-model=\"useCustomFn\" inline-desc=\"Add red dot for dates with 8\" title=\"add custom contents in day cell\"></x-switch>\r\n\t\t  \t</group>-->\r\n\t\t\t<group>\r\n\t\t\t\t<cell title=\"当前日期\" :value=\"value\"></cell>\r\n\t\t\t</group>\r\n\t\t\t<yd-cell-group>\r\n\t\t\t\t<yd-cell-item v-for=\"item in hrdutyRegister\" :key=\"item.pkId\">\r\n\t\t\t\t\t<span slot=\"left\">{{item.addresses}}</br>{{item.registerTime}}&nbsp;{{getInOrOutFlag(item.inOffFlag)}}&nbsp;{{getSignFlag(item.regFlag)}}</span>\r\n\t\t\t\t\t<span slot=\"right\">{{item.userName}}</span>\r\n\t\t\t\t</yd-cell-item>\r\n\t\t\t</yd-cell-group>\r\n\r\n\t\t</div>\r\n\t</yd-layout>\r\n</template>\r\n\r\n<script>\r\n\timport { InlineCalendar, Group, XSwitch, Radio, XButton, Cell, Divider } from 'vux'\r\n\timport {RxUtil} from '@/assets/util.js';\r\n\texport default {\r\n\t\tmethods: {\r\n\t\t\tonChange(val) {\r\n\t\t\t\tvar url = _baseUrl + \"/mobile/oa/getSignHistory.do\";\r\n\t\t\t\tconsole.log('on-change', val);\r\n\t\t\t\tlet formDateStr = new Date(Date.parse(val)).Format(\"yyyy-MM\") ;\r\n\t\t\t\t//找缓存\r\n\t\t\t\tif(RxUtil.getSessionJSON(formDateStr)!==null){\r\n\t\t\t\t\tlet signDate = [];\r\n\t\t\t\t\tlet cacheData = RxUtil.getSessionJSON(formDateStr);\r\n\t\t\t\t\tfor(let i = 0 ; i < cacheData.length ; i++){\r\n\t\t\t\t\t\tif(val == cacheData[i].date.split(' ')[0]){\r\n\t\t\t\t\t\t\tsignDate.push(cacheData[i]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.hrdutyRegister = signDate;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$ajax({\r\n\t\t\t\t\t\turl: url,\r\n\t\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tdate: this.value\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).then(response => {\r\n\t\t\t\t\t\tconsole.log(JSON.stringify(response));\r\n\t\t\t\t\t\tthis.hrdutyRegister = response.data.data;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonViewChange(data,index){\r\n\t\t\t\tif(index==0){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\t\r\n\t\t\t\tthis.firstDate = data.firstCurrentMonthDate;\r\n\t\t\t},\t\t\t\r\n\t\t\tgetMonthSignRecord(dateStr) {//dateStr:'2017-01-01'\r\n\t\t\t\tlet formDateStr = new Date(Date.parse(dateStr)).Format(\"yyyy-MM\") ;\r\n\t\t\t\tconsole.info(formDateStr);\t\t\t\r\n\t\t\t\t//有缓存\r\n\t\t\t\tif(RxUtil.getSessionJSON(formDateStr)!==null){\r\n\t\t\t\t\tconsole.info(\"缓存key:\" + formDateStr);\r\n\t\t\t\t\tthis.thisMonthSignData = RxUtil.getSessionJSON(formDateStr);\r\n\t\t\t\t\tthis.renderSignDate(this.thisMonthSignData);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tvar url = _baseUrl + \"/mobile/oa/getUserMonthSignRecord.do\";\r\n\t\t\t\t//根据账号请求本月考勤数据\r\n\t\t\t\tthis.$ajax({\r\n\t\t\t\t\turl: url,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tdate: dateStr\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(response => {\r\n\t\t\t\t\tif(response.data.success) {\r\n\t\t\t\t\t\tthis.thisMonthSignData = response.data.data;\r\n\t\t\t\t\t\t//将当月数据缓存起来\t\t\t\t\t\t\r\n\t\t\t\t\t\tRxUtil.setSessionCache(formDateStr,JSON.stringify(this.thisMonthSignData));\r\n\t\t\t\t\t\tthis.renderSignDate(this.thisMonthSignData);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetInOrOutFlag(val) {\r\n\t\t\t\tif(val == \"1\") {\r\n\t\t\t\t\treturn \"签到\"\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn \"签退\"\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//1正常、2迟到、3早退\r\n\t\t\tgetSignFlag(val) {\r\n\t\t\t\tif(val == \"1\") {\r\n\t\t\t\t\treturn \"<正常>\"\r\n\t\t\t\t} else if(val == \"2\") {\r\n\t\t\t\t\treturn \"<迟到>\"\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn \"<早退>\"\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//签到数据与日历数据匹配\r\n\t\t\trenderSignDate(signDateArray){\r\n\t\t\t\tvar signDateNumArray = [];\r\n\t\t\t\tfor(let i = 0; i < signDateArray.length; i++) {\r\n\t\t\t\t\tvar signDate = signDateArray[i].date.split(' ')[0];\r\n\t\t\t\t\tconsole.info(\"后台的数据:\" + signDate);\r\n\t\t\t\t\tsignDateNumArray.push(signDate);\r\n\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\tconsole.info(\"签到的日期:\" + signDateNumArray);\t\t\t\t\t\t\r\n\t\t\t\tthis.buildSlotFn = (line, index, data) => {\r\n\t\t\t\t\t//使用日期进行匹配\r\n\t\t\t\t\treturn signDateNumArray.indexOf(data.formatedDate) != -1 ? '<div style=\"font-size:12px;text-align:center;\"><span style=\"display:inline-block;width:5px;height:5px;background-color:red;border-radius:50%;\"></span></div>' : '<div style=\"height:19px;\"></div>';\r\n\t\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshow: true,\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tlistValue: '',\r\n\t\t\t\trange: false,\r\n\t\t\t\thighlightWeekend: false,\r\n\t\t\t\treturn6Rows: true,\r\n\t\t\t\thideHeader: false,\r\n\t\t\t\thideWeekList: false,\r\n\t\t\t\treplaceTextList: {},\r\n\t\t\t\treplace: false,\r\n\t\t\t\tchangeWeeksList: false,\r\n\t\t\t\tweeksList: ['日', '一', '二', '三', '四', '五', '六 '],\r\n\t\t\t\tuseCustomFn: false,\r\n\t\t\t\tbuildSlotFn: () => '',\r\n\t\t\t\tdisablePast: false,\r\n\t\t\t\tdisableFuture: true,\r\n\t\t\t\thrdutyRegister: [],\r\n\t\t\t\tshowLastMonth: true,\r\n\t\t\t\tshowNextMonth: true,\r\n\t\t\t\tthisMonthSignData: [],\r\n\t\t\t\tfirstDate:\"\",\r\n\t\t\t\trenderOnChange:true\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\treplace(val) {\r\n\t\t\t\tthis.replaceTextList = val ? {\r\n\t\t\t\t\t'TODAY': '今'\r\n\t\t\t\t} : {}\r\n\t\t\t},\r\n\t\t\tuseCustomFn(val) {\r\n\t\t\t\tthis.buildSlotFn = val ? (line, index, data) => {\r\n\t\t\t\t\t//console.info(\"这里的值是:\" + line + \",\" +index+ \",\"  + JSON.stringify(data));\r\n\t\t\t\t\treturn /9/.test(data.date) ? '<div style=\"font-size:12px;text-align:center;\"><span style=\"display:inline-block;width:5px;height:5px;background-color:red;border-radius:50%;\"></span></div>' : '<div style=\"height:19px;\"></div>'\r\n\t\t\t\t} : () => ''\r\n\t\t\t},\r\n\t\t\tchangeWeeksList(val) {\r\n\t\t\t\tthis.weeksList = val ? ['日', '一', '二', '三', '四', '五', '六 '] : ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa']\r\n\t\t\t},\r\n\t\t\tfirstDate(newVal,oldVal){\r\n\t\t\t\t//console.info(\"新值:\" + JSON.stringify(newVal));\r\n\t\t\t\tthis.getMonthSignRecord(newVal);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tInlineCalendar,\r\n\t\t\tGroup,\r\n\t\t\tXSwitch,\r\n\t\t\tRadio,\r\n\t\t\tXButton,\r\n\t\t\tCell,\r\n\t\t\tDivider\r\n\t\t},\r\n\r\n\t\tcreated() {\t\r\n\t\t\tlet nowDate = new Date();\r\n\t\t\tthis.firstDate = nowDate.getFullYear() + \"-\" + (nowDate.getMonth() + 1) + \"-\" + nowDate.getDay();\t\t\t\r\n\t\t\t//this.getMonthSignRecord(this.firstDate);\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\t.inline-calendar-demo {\r\n\t\tbackground: rgba(255, 255, 255, 0.9);\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/oa/SignHistory.vue","\nimport InlineCalendar from 'vux/src/components/inline-calendar/index.vue'\nimport Group from 'vux/src/components/group/index.vue'\nimport XSwitch from 'vux/src/components/x-switch/index.vue'\nimport Radio from 'vux/src/components/radio/index.vue'\nimport XButton from 'vux/src/components/x-button/index.vue'\nimport Cell from 'vux/src/components/cell/index.vue'\nimport Divider from 'vux/src/components/divider/index.vue'\n\nimport {RxUtil} from '@/assets/util.js';\nexport default {\nmethods: {\nonChange(val) {\nvar url = _baseUrl + \"/mobile/oa/getSignHistory.do\";\nconsole.log('on-change', val);\nlet formDateStr = new Date(Date.parse(val)).Format(\"yyyy-MM\") ;\n\nif(RxUtil.getSessionJSON(formDateStr)!==null){\nlet signDate = [];\nlet cacheData = RxUtil.getSessionJSON(formDateStr);\nfor(let i = 0 ; i < cacheData.length ; i++){\nif(val == cacheData[i].date.split(' ')[0]){\nsignDate.push(cacheData[i]);\n}\n}\nthis.hrdutyRegister = signDate;\nreturn;\n}\nthis.$ajax({\nurl: url,\nmethod: 'post',\nparams: {\ndate: this.value\n}\n}).then(response => {\nconsole.log(JSON.stringify(response));\nthis.hrdutyRegister = response.data.data;\n})\n.catch(error => {\nconsole.log(error);\n});\n},\nonViewChange(data,index){\nif(index==0){\nreturn;\n}\nthis.firstDate = data.firstCurrentMonthDate;\n},\ngetMonthSignRecord(dateStr) {//dateStr:'2017-01-01'\nlet formDateStr = new Date(Date.parse(dateStr)).Format(\"yyyy-MM\") ;\nconsole.info(formDateStr);\n\nif(RxUtil.getSessionJSON(formDateStr)!==null){\nconsole.info(\"缓存key:\" + formDateStr);\nthis.thisMonthSignData = RxUtil.getSessionJSON(formDateStr);\nthis.renderSignDate(this.thisMonthSignData);\nreturn;\n}\n\n\nvar url = _baseUrl + \"/mobile/oa/getUserMonthSignRecord.do\";\n\nthis.$ajax({\nurl: url,\nmethod: 'POST',\nparams: {\ndate: dateStr\n}\n}).then(response => {\nif(response.data.success) {\nthis.thisMonthSignData = response.data.data;\n\nRxUtil.setSessionCache(formDateStr,JSON.stringify(this.thisMonthSignData));\nthis.renderSignDate(this.thisMonthSignData);\n}\n\n}).catch(error => {\nconsole.log(error);\n});\n},\ngetInOrOutFlag(val) {\nif(val == \"1\") {\nreturn \"签到\"\n} else {\nreturn \"签退\"\n}\n},\n\ngetSignFlag(val) {\nif(val == \"1\") {\nreturn \"<正常>\"\n} else if(val == \"2\") {\nreturn \"<迟到>\"\n} else {\nreturn \"<早退>\"\n}\n},\n\nrenderSignDate(signDateArray){\nvar signDateNumArray = [];\nfor(let i = 0; i < signDateArray.length; i++) {\nvar signDate = signDateArray[i].date.split(' ')[0];\nconsole.info(\"后台的数据:\" + signDate);\nsignDateNumArray.push(signDate);\n}\nconsole.info(\"签到的日期:\" + signDateNumArray);\nthis.buildSlotFn = (line, index, data) => {\n\nreturn signDateNumArray.indexOf(data.formatedDate) != -1 ? '<div style=\"font-size:12px;text-align:center;\"><span style=\"display:inline-block;width:5px;height:5px;background-color:red;border-radius:50%;\"></span></div>' : '<div style=\"height:19px;\"></div>';\n}\n}\n\n},\ndata() {\nreturn {\nshow: true,\nvalue: '',\nlistValue: '',\nrange: false,\nhighlightWeekend: false,\nreturn6Rows: true,\nhideHeader: false,\nhideWeekList: false,\nreplaceTextList: {},\nreplace: false,\nchangeWeeksList: false,\nweeksList: ['日', '一', '二', '三', '四', '五', '六 '],\nuseCustomFn: false,\nbuildSlotFn: () => '',\ndisablePast: false,\ndisableFuture: true,\nhrdutyRegister: [],\nshowLastMonth: true,\nshowNextMonth: true,\nthisMonthSignData: [],\nfirstDate:\"\",\nrenderOnChange:true\n}\n},\nwatch: {\nreplace(val) {\nthis.replaceTextList = val ? {\n'TODAY': '今'\n} : {}\n},\nuseCustomFn(val) {\nthis.buildSlotFn = val ? (line, index, data) => {\n\nreturn /9/.test(data.date) ? '<div style=\"font-size:12px;text-align:center;\"><span style=\"display:inline-block;width:5px;height:5px;background-color:red;border-radius:50%;\"></span></div>' : '<div style=\"height:19px;\"></div>'\n} : () => ''\n},\nchangeWeeksList(val) {\nthis.weeksList = val ? ['日', '一', '二', '三', '四', '五', '六 '] : ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa']\n},\nfirstDate(newVal,oldVal){\n\nthis.getMonthSignRecord(newVal);\n}\n},\ncomponents: {\nInlineCalendar,\nGroup,\nXSwitch,\nRadio,\nXButton,\nCell,\nDivider\n},\n\ncreated() {\nlet nowDate = new Date();\nthis.firstDate = nowDate.getFullYear() + \"-\" + (nowDate.getMonth() + 1) + \"-\" + nowDate.getDay();\n\n\n}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/oa/SignHistory.vue","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".inline-calendar-demo[data-v-41ce95ca]{background:hsla(0,0%,100%,.9)}\", \"\", {\"version\":3,\"sources\":[\"E:/work/redxun/mobile/mobile/src/components/oa/SignHistory.vue\"],\"names\":[],\"mappings\":\"AACA,uCACE,6BAAqC,CACtC\",\"file\":\"SignHistory.vue\",\"sourcesContent\":[\"\\n.inline-calendar-demo[data-v-41ce95ca] {\\n  background: rgba(255, 255, 255, 0.9);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-41ce95ca\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vux-loader/src/after-less-loader.js!./~/less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/oa/SignHistory.vue\n// module id = 1537\n// module chunks = 30","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-41ce95ca\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vux-loader/src/after-less-loader.js!../../../node_modules/less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./SignHistory.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"e22aae0a\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-41ce95ca\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vux-loader/src/after-less-loader.js!./~/less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/oa/SignHistory.vue\n// module id = 1584\n// module chunks = 30","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('yd-layout',[_c('yd-navbar',{attrs:{\"slot\":\"navbar\",\"title\":\"签到记录\"},slot:\"navbar\"},[_c('a',{attrs:{\"slot\":\"left\"},on:{\"click\":_vm.goBack},slot:\"left\"},[_c('yd-navbar-back-icon')],1)]),_vm._v(\" \"),_c('div',[_c('inline-calendar',{staticClass:\"inline-calendar-demo\",attrs:{\"render-on-value-change\":\"\",\"show\":_vm.show,\"start-date\":\"2016-04-01\",\"end-date\":\"2018-05-30\",\"range\":_vm.range,\"highlight-weekend\":\"true\",\"return-six-rows\":_vm.return6Rows,\"hide-header\":_vm.hideHeader,\"hide-week-list\":_vm.hideWeekList,\"replace-text-list\":_vm.replaceTextList,\"weeks-list\":_vm.weeksList,\"render-function\":_vm.buildSlotFn,\"disable-past\":_vm.disablePast,\"disable-future\":_vm.disableFuture,\"show-last-month\":_vm.showLastMonth,\"show-next-month\":_vm.showNextMonth},on:{\"on-change\":_vm.onChange,\"on-view-change\":_vm.onViewChange,\"update:show\":function($event){_vm.show=$event}},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_vm._v(\" \"),_c('group',[_c('cell',{attrs:{\"title\":\"当前日期\",\"value\":_vm.value}})],1),_vm._v(\" \"),_c('yd-cell-group',_vm._l((_vm.hrdutyRegister),function(item){return _c('yd-cell-item',{key:item.pkId},[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_vm._v(_vm._s(item.addresses)),_c('br'),_vm._v(_vm._s(item.registerTime)+\" \"+_vm._s(_vm.getInOrOutFlag(item.inOffFlag))+\" \"+_vm._s(_vm.getSignFlag(item.regFlag)))]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_vm._v(_vm._s(item.userName))])])}))],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-41ce95ca\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./~/vux-loader/src/before-template-compiler-loader.js!./~/vux-loader/src/template-loader.js!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/oa/SignHistory.vue\n// module id = 1632\n// module chunks = 30"],"sourceRoot":""}