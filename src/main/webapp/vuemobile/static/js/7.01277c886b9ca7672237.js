webpackJsonp([7,14],{1170:function(e,t,s){"use strict";function i(e){s(1244)}Object.defineProperty(t,"__esModule",{value:!0});var a=(s(1241),s(1242)),n=s(1245),o=s(1),r=i,l=o(a.a,n.a,!1,r,"data-v-54c3ce69",null);t.default=l.exports},1184:function(e,t,s){"use strict";function i(e){s(1588)}Object.defineProperty(t,"__esModule",{value:!0});var a=(s(1444),s(1490)),n=s(1636),o=s(1),r=i,l=o(a.a,n.a,!1,r,"data-v-5a2908cc",null);t.default=l.exports},1205:function(e,t,s){"use strict";function i(e){s(1214)}var a=(s(1211),s(1212)),n=s(1215),o=s(1),r=i,l=o(a.a,n.a,!1,r,"data-v-fcfba068",null);t.a=l.exports},1206:function(e,t,s){"use strict";function i(e){s(1236)}var a=(s(1223),s(1227)),n=s(1240),o=s(1),r=i,l=o(a.a,n.a,!1,r,"data-v-a1c3706c",null);t.a=l.exports},1207:function(e,t,s){"use strict";function i(e){s(1235)}var a=(s(1224),s(1228)),n=s(1239),o=s(1),r=i,l=o(a.a,n.a,!1,r,"data-v-78eb9f49",null);t.a=l.exports},1208:function(e,t,s){"use strict";function i(e){s(1234)}var a=(s(1222),s(1226)),n=s(1238),o=s(1),r=i,l=o(a.a,n.a,!1,r,"data-v-21e34c0c",null);t.a=l.exports},1211:function(e,t,s){"use strict";String,String,Object,String},1212:function(e,t,s){"use strict";t.a={name:"rx-list-item",props:{type:{type:String,validator:function(e){return["link","a","div"].indexOf(e)>-1},default:"a"},href:[String,Object],img:String}}},1213:function(e,t,s){t=e.exports=s(327)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"ListItem.vue",sourceRoot:""}])},1214:function(e,t,s){var i=s(1213);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);s(1169)("26c9e7c6",i,!0)},1215:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return"link"==e.type?s("router-link",{staticClass:"yd-list-item",attrs:{to:e.href}},[e.img?s("div",{staticClass:"yd-list-img"},[e._t("img")],2):e._e(),e._v(" "),s("div",{staticClass:"yd-list-mes"},[e._t("list-title"),e._v(" "),s("div",{staticClass:"yd-list-title"},[e._t("content")],2),e._v(" "),e._t("default"),e._v(" "),e._t("other")],2)]):"a"==e.type?s("a",{staticClass:"yd-list-item",attrs:{href:e.href||"javascript:;"}},[e.img?s("div",[e._t("img")],2):e._e(),e._v(" "),s("div",{staticClass:"yd-list-mes"},[s("div",{staticClass:"yd-list-title"},[e._t("title")],2),e._v(" "),e._t("default"),e._v(" "),e._t("other")],2)]):s("div",{staticClass:"yd-list-item"},[e.img?s("div",{staticClass:"yd-list-img"},[e._t("img")],2):e._e(),e._v(" "),s("div",{staticClass:"yd-list-mes"},[s("div",{staticClass:"yd-list-title"},[e._t("title")],2),e._v(" "),e._t("default"),e._v(" "),e._t("other")],2)])},a=[],n={render:i,staticRenderFns:a};t.a=n},1216:function(e,t,s){e.exports=s.p+"static/img/hy_default.fa78035.jpg"},1222:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1__assets_util_js__=__webpack_require__(83),_unused_webpack_default_export={name:"rx-boxs",props:{value:String,textField:String,valField:String,containstyle:String,allowSelect:{type:Boolean,default:!0},single:{type:Boolean,default:!1}},data:function(){return{list:[]}},activated:function(){this.resetData()},mounted:function(){this.setValue(this.value)},methods:{resetData:function(){this.list=[],console.log(0xe052e5a98dd)},removeSelect:function(e){this.list.splice(e,1);var t=this.getValue();this.$emit("input",t)},selectItem:function(e){e.selected=!e.selected},setValue:function(e){if(e){this.render(e);var t=this.getValue();this.$emit("input",t)}},render:function render(value){this.single&&(this.list=[]);for(var json=eval("("+value+")"),i=0;i<json.length;i++){var obj=json[i],rtn=__WEBPACK_IMPORTED_MODULE_1__assets_util_js__.a.isInList(this.list,"id",obj[this.valField]);if(!rtn){var o={};o.id=obj[this.valField],o.name=obj[this.textField],o.selected=!1,this.list.push(o)}}},getIdVal:function(e){return this.getSingleVal(e,!0)},getTextVal:function(){return this.getSingleVal(isAry,!1)},getSingleVal:function(e,t){if(0==this.list.length)return e?[]:"";for(var s=[],i=0;i<this.list.length;i++){var a=this.list[i],n=t?a.id:a.name;s.push(n)}return e?s:s.join(",")},getValue:function(){if(0==this.list.length)return"[]";for(var e=[],t=0;t<this.list.length;t++){var s={},i=this.list[t];s[this.textField]=i.name,s[this.valField]=i.id,e.push(s)}return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(e)},handSelect:function(){this.$emit("select",this)}},watch:{value:function(e,t){this.render(e)}}}},1223:function(e,t,s){"use strict";s(83)},1224:function(e,t,s){"use strict"},1226:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1__assets_util_js__=__webpack_require__(83);__webpack_exports__.a={name:"rx-boxs",props:{value:String,textField:String,valField:String,containstyle:String,allowSelect:{type:Boolean,default:!0},single:{type:Boolean,default:!1}},data:function(){return{list:[]}},activated:function(){this.resetData()},mounted:function(){this.setValue(this.value)},methods:{resetData:function(){this.list=[],console.log(0xe052e5a98dd)},removeSelect:function(e){this.list.splice(e,1);var t=this.getValue();this.$emit("input",t)},selectItem:function(e){e.selected=!e.selected},setValue:function(e){if(e){this.render(e);var t=this.getValue();this.$emit("input",t)}},render:function render(value){this.single&&(this.list=[]);for(var json=eval("("+value+")"),i=0;i<json.length;i++){var obj=json[i],rtn=__WEBPACK_IMPORTED_MODULE_1__assets_util_js__.a.isInList(this.list,"id",obj[this.valField]);if(!rtn){var o={};o.id=obj[this.valField],o.name=obj[this.textField],o.selected=!1,this.list.push(o)}}},getIdVal:function(e){return this.getSingleVal(e,!0)},getTextVal:function(){return this.getSingleVal(isAry,!1)},getSingleVal:function(e,t){if(0==this.list.length)return e?[]:"";for(var s=[],i=0;i<this.list.length;i++){var a=this.list[i],n=t?a.id:a.name;s.push(n)}return e?s:s.join(",")},getValue:function(){if(0==this.list.length)return"[]";for(var e=[],t=0;t<this.list.length;t++){var s={},i=this.list[t];s[this.textField]=i.name,s[this.valField]=i.id,e.push(s)}return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(e)},handSelect:function(){this.$emit("select",this)}},watch:{value:function(e,t){this.render(e)}}}},1227:function(e,t,s){"use strict";var i=s(83);t.a={name:"rx-check",props:["value","val"],mounted:function(){this.init()},methods:{change:function(e){var t=this.$refs.input.checked,s=this.value?this.value.split(","):[];t?s.push(this.val):i.a.removeByVal(s,this.val),this.$emit("input",s.join(","))},init:function(){var e=!1;if(this.value){var t=this.value.split(",");e=i.a.isInAry(t,this.val)}this.$refs.input.checked=e}},watch:{value:function(e,t){this.init()}}}},1228:function(e,t,s){"use strict";t.a={name:"rx-radio",props:["value","val","name"],mounted:function(){this.$refs.input.checked=this.isChecked()},methods:{change:function(e){this.$refs.input.checked=!0,this.$emit("input",e)},isChecked:function(){return this.value==this.$refs.input.value},checkedThis:function(){this.$refs.input.checked=!0,this.$emit("input",this.val)}}}},1230:function(e,t,s){t=e.exports=s(327)(!0),t.push([e.i,".div-container[data-v-21e34c0c]{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;max-width:6rem;height:.7rem;overflow-x:auto;overflow-y:hidden}.div-container>.item[data-v-21e34c0c],.div-container[data-v-21e34c0c]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.div-container>.item[data-v-21e34c0c]{margin:0 .1rem;border-radius:.2rem;padding:.05rem .15rem;position:relative;-webkit-box-shadow:.02rem .02rem .05rem #888;box-shadow:.02rem .02rem .05rem #888;background-color:#dee7f8;height:.4rem;white-space:nowrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:auto}.div-container>.item-selected[data-v-21e34c0c]{background-color:rgba(120,193,245,.4);color:#fff}.div-container>.item>.i-remove[data-v-21e34c0c]{position:absolute;top:0;right:0;cursor:hand}.btn-select[data-v-21e34c0c]{width:auto;margin-right:.12rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.yd-icon-remove[data-v-21e34c0c]:before{font-size:.3rem!important;color:#000;font-weight:700}.yd-icon-add-user[data-v-21e34c0c]:before{font-size:.5rem}","",{version:3,sources:["E:/work/redxun/mobile/mobile/src/components/common/rx-boxs.vue"],names:[],mappings:"AACA,gCACE,8BAA+B,AACvB,sBAAuB,AAC/B,WAAY,AACN,eAAgB,AACtB,aAAc,AAOR,gBAAgB,AAChB,iBAAkB,CACzB,AACD,sEATE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACR,yBAA0B,AACtB,sBAAuB,AACnB,kBAAoB,CAwBnC,AApBD,sCACE,eAAiB,AAIjB,oBAAqB,AACrB,sBAAyB,AACzB,kBAAmB,AACnB,6CAAiD,AACzC,qCAAyC,AACjD,yBAA0B,AAC1B,aAAc,AACd,mBAAmB,AAIb,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,UAAW,CAClB,AACD,+CACE,sCAA2C,AAC3C,UAAY,CACb,AACD,gDACE,kBAAmB,AACnB,MAAS,AACT,QAAW,AACX,WAAa,CACd,AACD,6BACE,WAAY,AACZ,oBAAoB,AACpB,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACR,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,wBAAyB,AACrB,qBAAsB,AAClB,sBAAwB,CACvC,AACD,wCACE,0BAA6B,AAC7B,WAAY,AACZ,eAAkB,CACnB,AACD,0CACE,eAAkB,CACnB",file:"rx-boxs.vue",sourcesContent:["\n.div-container[data-v-21e34c0c]{\n\t\t-webkit-box-sizing: border-box;\n\t\t        box-sizing: border-box;\n\t\twidth: 100%;\n        max-width: 6rem;\n\t\theight: .7rem;\n\t\tdisplay: -webkit-box;\n\t\tdisplay: -ms-flexbox;\n\t\tdisplay: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        overflow-x:auto;\n        overflow-y:hidden;\n}\n.div-container > .item[data-v-21e34c0c]{\n\t\tmargin: 0 0.1rem;\n\t\tdisplay: -webkit-box;\n\t\tdisplay: -ms-flexbox;\n\t\tdisplay: flex;\n\t\tborder-radius: .2rem;\n\t\tpadding: 0.05rem 0.15rem;\n\t\tposition: relative;\n\t\t-webkit-box-shadow: 0.02rem 0.02rem 0.05rem #888;\n\t\t        box-shadow: 0.02rem 0.02rem 0.05rem #888;\n\t\tbackground-color: #dee7f8;\n\t\theight: .4rem;\n\t\twhite-space:nowrap;  \n\t\t-webkit-box-align: center;  \n\t\t    -ms-flex-align: center;  \n\t\t        align-items: center; \n        -webkit-box-pack: center; \n            -ms-flex-pack: center; \n                justify-content: center; \n        width:auto;\n}\n.div-container > .item-selected[data-v-21e34c0c]{\n\t\tbackground-color: rgba(120, 193, 245, 0.4);\n\t\tcolor: #fff;\n}\n.div-container > .item > .i-remove[data-v-21e34c0c]{\n\t\tposition: absolute;\n\t\ttop: 0px;\n\t\tright: 0px;\n\t\tcursor: hand;\n}\n.btn-select[data-v-21e34c0c]{\n\t\twidth: auto;\n\t\tmargin-right:.12rem;\n\t\tdisplay: -webkit-box;\n\t\tdisplay: -ms-flexbox;\n\t\tdisplay: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center; /*定义body的元素垂直居中*/\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center; /*定义body的里的元素水平居中*/\n}\n.yd-icon-remove[data-v-21e34c0c]:before { \n\t\tfont-size: 0.3rem !important;\n\t\tcolor: #000;\n\t\tfont-weight: bold;\n}\n.yd-icon-add-user[data-v-21e34c0c]:before{\n\t\tfont-size: 0.5rem;\n}\n"],sourceRoot:""}])},1231:function(e,t,s){t=e.exports=s(327)(!0),t.push([e.i,".yd-list-title>div>.yd-radio[data-v-78eb9f49]{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding-right:0}.yd-list-title>.rowBox>.yd-radio[data-v-78eb9f49]{width:auto}.yd-radio-icon[data-v-78eb9f49]{color:#4cd864;width:20px;height:20px}.yd-radio-icon i[data-v-78eb9f49]{width:10px;height:10px}.yd-radio-text[data-v-78eb9f49]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}","",{version:3,sources:["E:/work/redxun/mobile/mobile/src/components/common/rxRadio.vue"],names:[],mappings:"AACA,8CACC,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,WAAY,AACZ,eAAiB,CACjB,AACD,kDACC,UAAY,CACZ,AACD,gCACC,cAAyB,AACzB,WAAY,AACZ,WAAa,CACb,AACD,kCACC,WAAY,AACZ,WAAa,CACb,AACD,gCACC,mBAAoB,AAChB,oBAAqB,AACjB,WAAa,CACrB",file:"rxRadio.vue",sourcesContent:["\n.yd-list-title > div > .yd-radio[data-v-78eb9f49]{\r\n\tdisplay: -webkit-box;\r\n\tdisplay: -ms-flexbox;\r\n\tdisplay: flex;\r\n\twidth: 100%;\r\n\tpadding-right: 0;\n}\n.yd-list-title > .rowBox > .yd-radio[data-v-78eb9f49]{\r\n\twidth: auto;\n}\n.yd-radio-icon[data-v-78eb9f49]{\r\n\tcolor: rgb(76, 216, 100);\r\n\twidth: 20px;\r\n\theight: 20px;\n}\n.yd-radio-icon i[data-v-78eb9f49]{\r\n\twidth: 10px;\r\n\theight: 10px;\n}\n.yd-radio-text[data-v-78eb9f49]{\r\n\t-webkit-box-flex: 1;\r\n\t    -ms-flex-positive: 1;\r\n\t        flex-grow: 1;\n}\r\n\r\n"],sourceRoot:""}])},1232:function(e,t,s){t=e.exports=s(327)(!0),t.push([e.i,".yd-checkbox[data-v-a1c3706c]{display:-webkit-box;display:-ms-flexbox;display:flex}.yd-checkbox-icon[data-v-a1c3706c]{width:20px;height:20px;color:#4cd864!important}.yd-checkbox-icon>i[data-v-a1c3706c]{width:6px;height:12px}.yd-checkbox-text[data-v-a1c3706c]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}","",{version:3,sources:["E:/work/redxun/mobile/mobile/src/components/common/rxCheckbox.vue"],names:[],mappings:"AACA,8BACC,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CACd,AACD,mCACC,WAAY,AACZ,YAAa,AACb,uBAAoC,CACpC,AACD,qCACC,UAAW,AACX,WAAa,CACb,AACD,mCACC,mBAAoB,AAChB,oBAAqB,AACjB,WAAa,CACrB",file:"rxCheckbox.vue",sourcesContent:["\n.yd-checkbox[data-v-a1c3706c]{\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n}\n.yd-checkbox-icon[data-v-a1c3706c]{\n\twidth: 20px; \n\theight: 20px; \n\tcolor: rgb(76, 216, 100) !important;\n}\n.yd-checkbox-icon>i[data-v-a1c3706c]{\n\twidth: 6px;\n\theight: 12px;\n}\n.yd-checkbox-text[data-v-a1c3706c]{\n\t-webkit-box-flex: 1;\n\t    -ms-flex-positive: 1;\n\t        flex-grow: 1;\n}\n\n"],sourceRoot:""}])},1234:function(e,t,s){var i=s(1230);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);s(1169)("08cc9ab3",i,!0)},1235:function(e,t,s){var i=s(1231);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);s(1169)("51a09a64",i,!0)},1236:function(e,t,s){var i=s(1232);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);s(1169)("594fc0d2",i,!0)},1238:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("yd-flexbox",[s("yd-flexbox-item",[s("div",{staticClass:"div-container"},e._l(e.list,function(t,i){return s("div",{staticClass:"item",class:{"item-selected":t.selected},on:{click:function(s){e.selectItem(t)}}},[e._v("\n\t\t        \t\t"+e._s(t.name)+"\n\t\t\t        \t"),t.selected?s("i",{staticClass:"i-remove yd-icon-remove",on:{click:function(t){t.stopPropagation(),e.removeSelect(i)}}}):e._e()])}))]),e._v(" "),s("div",{staticClass:"btn-select"},[s("yd-icon",{directives:[{name:"show",rawName:"v-show",value:e.allowSelect,expression:"allowSelect"}],attrs:{slot:"icon",name:"add-user",color:"#177cb0"},nativeOn:{click:function(t){e.handSelect()}},slot:"icon"})],1)],1)},a=[],n={render:i,staticRenderFns:a};t.a=n},1239:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"yd-radio"},[s("span",{staticClass:"yd-radio-text",attrs:{for:e.val}},[e._t("default")],2),e._v(" "),s("input",{ref:"input",attrs:{name:e.name,type:"radio",id:e.val},domProps:{value:e.val},on:{change:function(t){e.change(t.target.value)}}}),e._v(" "),s("span",{staticClass:"yd-radio-icon",on:{touchstart:function(t){t.stopPropagation(),t.preventDefault(),e.checkedThis(t)}}},[s("i")])])},a=[],n={render:i,staticRenderFns:a};t.a=n},1240:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"yd-checkbox"},[s("input",{ref:"input",attrs:{type:"checkbox"},domProps:{value:e.val},on:{change:function(t){t.stopPropagation(),e.change(t.target.value)}}}),e._v(" "),e._m(0),e._v(" "),s("span",{staticClass:"yd-checkbox-text"},[e._t("default")],2)])},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"yd-checkbox-icon"},[s("i")])}],n={render:i,staticRenderFns:a};t.a=n},1241:function(e,t,s){"use strict";var i,a=s(198),n=s.n(a),o=s(47),r=s(1205),l=s(1207),c=s(1206),d=(s(196),s(98),s(83));o.default.component(r.a.name,r.a),o.default.component(l.a.name,l.a),o.default.component(c.a.name,c.a);i={name:"rx-sysuser",data:function(){return{list:[],page:0,total:0,searchName:"",merage:!0,historyParams:[],selectUserId:"",selectedUser:[]}},computed:{showBar:function(){return this.$store.state.pageModule.keyboard}},props:{single:{type:Boolean,default:!0}},created:function(){this.searchName="",this.historyParams=[]}},n()(i,"computed",{classBtn:function(){return{single:this.single,multity:!this.single}},selectAmount:function(){return this.selectUserId?this.selectUserId.split(",").length:0}}),n()(i,"methods",{loadList:function(){var e=_baseUrl+"/mobile/oa/getDimen.do",t="pageIndex="+this.page+"&pageSize=10";this.loadLevel(t,e)},search:function(){this.page=0,this.merage=!1,this.loadList()},cancel:function(){this.$emit("cancel")},setValue:function(e){this.selectUserId=e},handleClick:function(e,t){if(console.log(t),console.log(e),e.dimId){var s=_baseUrl+"/mobile/oa/getGroup.do",i={dimId:e.dimId};this.loadLevel(i,s)}else if(e.groupId&&e.childs>0){var s=_baseUrl+"/mobile/oa/getGroup.do",i={groupId:e.groupId};this.loadLevel(i,s)}else if(e.groupId&&(0==e.childs||null==e.childs)){var s=_baseUrl+"/mobile/oa/getUsers.do",i={groupId:e.groupId};this.loadLevel(i,s)}},loadLevel:function(e,t){var s=this;this.$ajax({url:t,method:"POST",params:e}).then(function(i){s.list=i.data.rowList;for(var a=!1,n=0;n<s.historyParams.length;n++){var o=s.historyParams[n];o.params==e&&o.url==t&&(a=!0)}if(!a){var r={};r.params=e,r.url=t,s.historyParams.push(r)}}).catch(function(e){console.log(e)})},historyList:function(){if(this.historyParams.length>=2){var e=this.historyParams[this.historyParams.length-2];this.loadLevel(e.params,e.url),this.historyParams.splice(this.historyParams.length-1,1)}else this.historyParams.length>=1&&this.cancel()},searchByName:function(){var e=this;if(this.searchName){var t=_baseUrl+"/mobile/oa/getUsersSearch.do",s="";this.searchName&&(s="&Q_fullName_S_LK="+this.searchName),this.$ajax.post(t,s).then(function(t){e.list=t.data.rowList}).catch(function(e){})}},getFilePath:function(e){return _baseUrl+"/sys/core/file/previewFile.do?fileId="+e},ok:function(){this.$emit("ok",this.selectedUser),this.$store.commit("srtFromUser",this.selectedUser),console.log(this.selectedUser)}}),n()(i,"watch",{selectUserId:function(e,t){if(!e)return void(this.selectedUser=[]);for(var s=this.selectUserId.split(","),i=d.a.covertList2Map("userId",this.selectedUser),a=d.a.covertList2Map("userId",this.list),n=0;n<s.length;n++){var o=s[n];i[o]||this.selectedUser.push(a[o])}for(var n=this.selectedUser.length-1;n>=0;n--){var r=this.selectedUser[n],l=r.userId;d.a.isInAry(s,l)||this.selectedUser.splice(n,1)}}})},1242:function(e,t,s){"use strict";var i,a=s(198),n=s.n(a),o=s(47),r=s(1205),l=s(1207),c=s(1206),d=(s(196),s(98),s(83));o.default.component(r.a.name,r.a),o.default.component(l.a.name,l.a),o.default.component(c.a.name,c.a),t.a=(i={name:"rx-sysuser",data:function(){return{list:[],page:0,total:0,searchName:"",merage:!0,historyParams:[],selectUserId:"",selectedUser:[]}},computed:{showBar:function(){return this.$store.state.pageModule.keyboard}},props:{single:{type:Boolean,default:!0}},created:function(){this.searchName="",this.historyParams=[]}},n()(i,"computed",{classBtn:function(){return{single:this.single,multity:!this.single}},selectAmount:function(){return this.selectUserId?this.selectUserId.split(",").length:0}}),n()(i,"methods",{loadList:function(){var e=_baseUrl+"/mobile/oa/getDimen.do",t="pageIndex="+this.page+"&pageSize=10";this.loadLevel(t,e)},search:function(){this.page=0,this.merage=!1,this.loadList()},cancel:function(){this.$emit("cancel")},setValue:function(e){this.selectUserId=e},handleClick:function(e,t){if(console.log(t),console.log(e),e.dimId){var s=_baseUrl+"/mobile/oa/getGroup.do",i={dimId:e.dimId};this.loadLevel(i,s)}else if(e.groupId&&e.childs>0){var s=_baseUrl+"/mobile/oa/getGroup.do",i={groupId:e.groupId};this.loadLevel(i,s)}else if(e.groupId&&(0==e.childs||null==e.childs)){var s=_baseUrl+"/mobile/oa/getUsers.do",i={groupId:e.groupId};this.loadLevel(i,s)}},loadLevel:function(e,t){var s=this;this.$ajax({url:t,method:"POST",params:e}).then(function(i){s.list=i.data.rowList;for(var a=!1,n=0;n<s.historyParams.length;n++){var o=s.historyParams[n];o.params==e&&o.url==t&&(a=!0)}if(!a){var r={};r.params=e,r.url=t,s.historyParams.push(r)}}).catch(function(e){console.log(e)})},historyList:function(){if(this.historyParams.length>=2){var e=this.historyParams[this.historyParams.length-2];this.loadLevel(e.params,e.url),this.historyParams.splice(this.historyParams.length-1,1)}else this.historyParams.length>=1&&this.cancel()},searchByName:function(){var e=this;if(this.searchName){var t=_baseUrl+"/mobile/oa/getUsersSearch.do",s="";this.searchName&&(s="&Q_fullName_S_LK="+this.searchName),this.$ajax.post(t,s).then(function(t){e.list=t.data.rowList}).catch(function(e){})}},getFilePath:function(e){return _baseUrl+"/sys/core/file/previewFile.do?fileId="+e},ok:function(){this.$emit("ok",this.selectedUser),this.$store.commit("srtFromUser",this.selectedUser),console.log(this.selectedUser)}}),n()(i,"watch",{selectUserId:function(e,t){if(!e)return void(this.selectedUser=[]);for(var s=this.selectUserId.split(","),i=d.a.covertList2Map("userId",this.selectedUser),a=d.a.covertList2Map("userId",this.list),n=0;n<s.length;n++){var o=s[n];i[o]||this.selectedUser.push(a[o])}for(var n=this.selectedUser.length-1;n>=0;n--){var r=this.selectedUser[n],l=r.userId;d.a.isInAry(s,l)||this.selectedUser.splice(n,1)}}}),i)},1243:function(e,t,s){t=e.exports=s(327)(!0),t.push([e.i,'.bg[data-v-54c3ce69]{background:#f5f5f5}.searchUser[data-v-54c3ce69]{padding:.2rem}.searchUser>div[data-v-54c3ce69]{background:#fff;border-radius:4rem}.searchUser>div[data-v-54c3ce69]:after{content:"";display:block;clear:both}.searchUser>div i[data-v-54c3ce69]{float:left;padding:.12rem}.searchUser>div i[data-v-54c3ce69]:before{font-size:.4rem;color:#666}.searchUser>div>input[data-v-54c3ce69]{float:left;width:calc(100% - .84rem);line-height:.68rem;font-size:.3rem;color:#666}.single[data-v-54c3ce69]{text-align:center;margin-top:2px;padding:0 0 2px}.multity[data-v-54c3ce69]{text-align:right;margin-top:2px;padding:0 0 2px;margin-right:10px}.div-selected[data-v-54c3ce69]{text-align:left;width:2rem}.div-selected i[data-v-54c3ce69]{font-weight:700;color:red}.rowBox[data-v-54c3ce69]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.rowBox>span[data-v-54c3ce69]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.rowBox>label[data-v-54c3ce69]{padding:0}.rowBox[data-v-54c3ce69] .yd-checkbox-icon{border-radius:.08rem!important}.yd-popup-center .imgBoxCheck[data-v-54c3ce69]{border-radius:.12rem;overflow:hidden}.userImag[data-v-54c3ce69]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.imgBoxRadio[data-v-54c3ce69]{border-radius:.12rem}.imgBoxCheck[data-v-54c3ce69],.imgBoxRadio[data-v-54c3ce69]{width:.8rem;height:.8rem;display:block;overflow:hidden}.img[data-v-54c3ce69]{width:100%;height:auto}.username[data-v-54c3ce69]{margin-left:.12rem}.yd-scrollview .yd-list-theme4 .yd-list-item[data-v-54c3ce69]{padding:.2rem}.yd-list-item[data-v-54c3ce69],.yd-list-theme4[data-v-54c3ce69] .yd-list-mes .yd-list-title{width:100%}.yd-list-theme4[data-v-54c3ce69] .yd-list-title>div{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.yd-icon-right[data-v-54c3ce69]{font-size:.4rem}.frmContainer[data-v-54c3ce69] .yd-navbar-item>a{min-width:10%}',"",{version:3,sources:["E:/work/redxun/mobile/mobile/src/components/common/SysUser.vue"],names:[],mappings:"AACA,qBACE,kBAAoB,CACrB,AACD,6BACE,aAAe,CAChB,AACD,iCACE,gBAAiB,AACjB,kBAAoB,CACrB,AACD,uCACE,WAAY,AACZ,cAAe,AACf,UAAY,CACb,AACD,mCACE,WAAY,AACZ,cAAgB,CACjB,AACD,0CACE,gBAAiB,AACjB,UAAY,CACb,AACD,uCACE,WAAY,AACZ,0BAA2B,AAC3B,mBAAoB,AACpB,gBAAiB,AACjB,UAAY,CACb,AACD,yBACE,kBAAmB,AACnB,eAAgB,AAChB,eAAwB,CACzB,AACD,0BACE,iBAAkB,AAClB,eAAgB,AAChB,gBAAwB,AACxB,iBAAmB,CACpB,AACD,+BACE,gBAAiB,AACjB,UAAY,CACb,AACD,iCACE,gBAAkB,AAClB,SAAW,CACZ,AACD,yBACK,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,kBAAoB,CAChC,AACD,8BACE,mBAAoB,AAChB,oBAAqB,AACjB,WAAa,CACtB,AACD,+BACE,SAAW,CACZ,AACD,2CACE,8BAAiC,CAClC,AACD,+CACE,qBAAqB,AACrB,eAAgB,CACjB,AACD,2BACK,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,kBAAoB,CAChC,AACD,8BAIK,oBAAsB,CAE1B,AACD,4DANK,YAAa,AACb,aAAc,AACd,cAAe,AAEf,eAAiB,CAOrB,AACD,sBACK,WAAY,AACZ,WAAa,CACjB,AACD,2BACK,kBAAoB,CACxB,AACD,8DACE,aAAe,CAChB,AAID,4FACE,UAAY,CACb,AACD,oDACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAAyB,AACrB,sBAAsB,AAClB,6BAA8B,CACvC,AACD,gCACE,eAAkB,CACnB,AACD,iDACE,aAAe,CAChB",file:"SysUser.vue",sourcesContent:["\n.bg[data-v-54c3ce69]{\n\t\tbackground: #f5f5f5;\n}\n.searchUser[data-v-54c3ce69]{\n\t\tpadding: .2rem;\n}\n.searchUser>div[data-v-54c3ce69]{\n\t\tbackground: #fff;\n\t\tborder-radius: 4rem;\n}\n.searchUser>div[data-v-54c3ce69]::after{\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tclear: both;\n}\n.searchUser>div i[data-v-54c3ce69]{\n\t\tfloat: left;\n\t\tpadding: .12rem;\n}\n.searchUser>div i[data-v-54c3ce69]:before{\n\t\tfont-size: .4rem;\n\t\tcolor: #666;\n}\n.searchUser>div>input[data-v-54c3ce69]{\n\t\tfloat: left;\n\t\twidth: calc(100% - .84rem);\n\t\tline-height: .68rem;\n\t\tfont-size: .3rem;\n\t\tcolor: #666;\n}\n.single[data-v-54c3ce69]{\n\t\ttext-align: center;\n\t\tmargin-top: 2px;\n\t\tpadding:0px 0px 2px 0px;\n}\n.multity[data-v-54c3ce69]{\n\t\ttext-align: right;\n\t\tmargin-top: 2px;\n\t\tpadding:0px 0px 2px 0px;\n\t\tmargin-right: 10px;\n}\n.div-selected[data-v-54c3ce69]{\n\t\ttext-align: left;\n\t\twidth: 2rem;\n}\n.div-selected i[data-v-54c3ce69]{\n\t\tfont-weight: bold;\n\t\tcolor: red;\n}\n.rowBox[data-v-54c3ce69]{\n\t    display: -webkit-box;\n\t    display: -ms-flexbox;\n\t    display: flex;\n\t    -webkit-box-align: center;\n\t        -ms-flex-align: center;\n\t            align-items: center;\n}\n.rowBox>span[data-v-54c3ce69]{\n\t\t-webkit-box-flex: 1;\n\t\t    -ms-flex-positive: 1;\n\t\t        flex-grow: 1;\n}\n.rowBox>label[data-v-54c3ce69]{\n\t\tpadding: 0;\n}\n.rowBox[data-v-54c3ce69] .yd-checkbox-icon {\n\t\tborder-radius: .08rem !important;\n}\n.yd-popup-center .imgBoxCheck[data-v-54c3ce69] {\n\t\tborder-radius:.12rem;\n\t\toverflow:hidden;\n}\n.userImag[data-v-54c3ce69]{\n\t    display: -webkit-box;\n\t    display: -ms-flexbox;\n\t    display: flex;\n\t    -webkit-box-align: center;\n\t        -ms-flex-align: center;\n\t            align-items: center;\n}\n.imgBoxRadio[data-v-54c3ce69]{\n\t    width: .8rem;\n\t    height: .8rem;\n\t    display: block;\n\t    border-radius: .12rem;\n\t    overflow: hidden;\n}\n.imgBoxCheck[data-v-54c3ce69]{\n\t    width: .8rem;\n\t    height: .8rem;\n\t    display: block;\n\t    overflow: hidden;\n}\n.img[data-v-54c3ce69]{\n\t    width: 100%;\n\t    height: auto;\n}\n.username[data-v-54c3ce69]{\n    \tmargin-left: .12rem;\n}\n.yd-scrollview .yd-list-theme4 .yd-list-item[data-v-54c3ce69]{\n\t\tpadding: .2rem;\n}\n.yd-list-item[data-v-54c3ce69]{\n\t\twidth: 100%;\n}\n.yd-list-theme4[data-v-54c3ce69] .yd-list-mes .yd-list-title{\n\t\twidth: 100%;\n}\n.yd-list-theme4[data-v-54c3ce69] .yd-list-title > div{\n\t\tdisplay: -webkit-box;\n\t\tdisplay: -ms-flexbox;\n\t\tdisplay: flex;\n\t\t-webkit-box-pack:justify;\n\t\t    -ms-flex-pack:justify;\n\t\t        justify-content:space-between;\n}\n.yd-icon-right[data-v-54c3ce69]{\n\t\tfont-size: 0.4rem;\n}\n.frmContainer[data-v-54c3ce69] .yd-navbar-item>a{\n\t\tmin-width: 10%;\n}\n\t\n"],sourceRoot:""}])},1244:function(e,t,s){var i=s(1243);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);s(1169)("0ca3964f",i,!0)},1245:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("yd-layout",{staticClass:"bg"},[i("yd-navbar",{attrs:{slot:"navbar",title:"用户列表"},slot:"navbar"},[i("span",{attrs:{slot:"left"},on:{click:e.historyList},slot:"left"},[i("yd-navbar-back-icon")],1),e._v(" "),i("span",{attrs:{slot:"left"},on:{touchstart:function(t){t.preventDefault(),e.cancel(t)}},slot:"left"},[i("i",{staticClass:"icon-close"})]),e._v(" "),e.selectAmount>0?i("span",{attrs:{slot:"right"},slot:"right"},[e._v("已选"+e._s(e.selectAmount)+"人")]):e._e()]),e._v(" "),i("div",{staticClass:"searchUser"},[i("div",[i("i",{staticClass:"btnSearch yd-icon-sousuo"}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.searchName,expression:"searchName",modifiers:{lazy:!0}}],attrs:{type:"text",placeholder:"搜索人员"},domProps:{value:e.searchName},on:{change:[function(t){e.searchName=t.target.value},e.searchByName]}})])]),e._v(" "),i("yd-pullrefresh",{ref:"pullrefreshList_",attrs:{"on-infinite":e.loadList}},[e.list&&e.list.length>0?i("yd-list",{attrs:{theme:"4"}},e._l(e.list,function(t,a){return i("rx-list-item",{key:a},[t.userId?i("div",{staticClass:"rowBox",attrs:{slot:"title"},slot:"title"},[t.photo?i("span",{staticClass:"userImag"},[i("span",{class:[e.single?"imgBoxRadio":"imgBoxCheck"]},[i("img",{staticClass:"img",attrs:{slot:"img",src:e.getFilePath(t.photo)},slot:"img"})]),e._v(" "),i("span",{staticClass:"username"},[e._v(e._s(t.fullname))])]):i("span",{staticClass:"userImag"},[i("span",{class:[e.single?"imgBoxRadio":"imgBoxCheck"]},[i("img",{staticClass:"img",attrs:{slot:"img",src:s(1216)},slot:"img"})]),e._v(" "),i("span",{staticClass:"username"},[e._v(e._s(t.fullname))])]),e._v(" "),e.single?i("rx-radio",{attrs:{val:t.userId,name:"chkUser"},nativeOn:{click:function(s){e.handleClick(t)}},model:{value:e.selectUserId,callback:function(t){e.selectUserId=t},expression:"selectUserId"}}):i("rx-check",{attrs:{val:t.userId},model:{value:e.selectUserId,callback:function(t){e.selectUserId=t},expression:"selectUserId"}})],1):t.dimId?i("div",{attrs:{slot:"title"},on:{click:function(s){e.handleClick(t)}},slot:"title"},[i("span",[e._v(e._s(t.name))]),e._v(" "),i("i",{staticClass:"yd-icon-right"})]):t.groupId?i("div",{attrs:{slot:"title"},on:{click:function(s){e.handleClick(t,"index1111")}},slot:"title"},[i("span",[e._v(e._s(t.name))]),e._v(" "),t.childs>-1?i("i",{staticClass:"yd-icon-right"}):e._e()]):e._e()])})):i("yd-list",{attrs:{theme:"4"}},[i("rx-list-item",[i("span",{staticClass:"list-title",attrs:{slot:"title"},slot:"title"},[e._v("还没有任何数据")])])],1)],1),e._v(" "),i("div",{staticClass:"bottomBtn",class:{bright:e.selectAmount>0},attrs:{slot:"tabbar"},slot:"tabbar"},[i("input",{attrs:{type:"button",value:"完成"},on:{click:e.ok}})])],1)},a=[],n={render:i,staticRenderFns:a};t.a=n},1246:function(e,t,s){"use strict";function i(e){s(1252)}var a=(s(1249),s(1250)),n=s(1253),o=s(1),r=i,l=o(a.a,n.a,!1,r,"data-v-3f5650be",null);t.a=l.exports},1249:function(e,t,s){"use strict";var i=s(6),a=s.n(i),n=s(196),o=s(199),r=s.n(o);String,Object,String,Boolean},1250:function(e,t,s){"use strict";var i=s(6),a=s.n(i),n=s(196),o=s(199),r=s.n(o);t.a={name:"rx-attachment",data:function(){var e=this;return{files:[],showSelect:!1,operators:[{label:"拍照",method:function(){e.wxPhoto()}},{label:"从相册中选择",method:function(){e.wxSelectPhoto()}}]}},props:{value:String,permission:Object,permissionkey:String,readonly:{type:Boolean,default:!1}},computed:{right:function(){return s.i(n.f)(this)}},methods:{imageUrl:function(e){return _baseUrl+"/sys/core/file/download/"+e.fileId+".do"},parseUrl:function(e){if(e.fileName)return _baseUrl+"/sys/core/file/download/"+e.fileId+".do"},handFiles:function(e){if(!e.success)return[];console.info("handFiles-----------");for(var t=e.data,s=0;s<t.length;s++){var i=t[s];this.files.push({fileId:i.fileId,fileName:i.fileName,selected:!1})}},handFile:function(e){this.files.push({fileId:e.key,fileName:e.val,selected:!1})},removeSelect:function(e){this.files.splice(e,1)},checkFile:function(e){var t=this.files[e];t.selected=!t.selected},selectAttch:function(){var e=this;plus.gallery.pick(function(t){for(var s=[],i=0;i<t.files.length;i++){var a=t.files[i];s.push(a)}e.upload(s)},function(e){},{filter:"image",multiple:!0})},wxPhoto:function(){this.wxImage("camera")},wxSelectPhoto:function(){this.wxImage("album")},wxImage:function(e){var t=this;r.a.chooseImage({sizeType:["compressed"],sourceType:[e],success:function(e){for(var s=e.localIds,i=0;i<s.length;i++)r.a.uploadImage({localId:s[i],isShowProgressTips:1,success:function(e){var s=e.serverId,i=_baseUrl+"/wx/saveFile.do",a="mediaId="+s;t.$ajax.post(i,a).then(function(e){var s=e.data;t.handFile(s)})}})}})},takePhoto:function(){var e=this,t=plus.camera.getCamera(),s=t.supportedImageFormats[0];t.captureImage(function(t){plus.io.resolveLocalFileSystemURL(t,function(t){var s=t.toLocalURL(),i=[];i.push(s),e.compressImg(i)})},function(e){},{format:s})},recordVideo:function(){var e=this,t=plus.camera.getCamera(),s=t.supportedVideoResolutions[0],i=t.supportedVideoFormats[0];t.startVideoCapture(function(t){plus.io.resolveLocalFileSystemURL(t,function(t){var s=t.toLocalURL(),i=[];i.push(s),e.upload(i)})},function(e){},{resolution:s,format:i})},upload:function(e){var t=this;this.$dialog.loading.open("正在上传...");for(var s=_baseUrl+"/sys/core/file/upload.do",i=plus.uploader.createUpload(s,{},function(e,s){if(t.$dialog.loading.close(),200==s){var i=JSON.parse(e.responseText);if(i.success){t.handFiles(i);for(var n=[],o=0;o<t.files.length;o++){var r=t.files[o],l={fileId:r.fileId,fileName:r.fileName};n.push(l)}t.$emit("input",a()(n))}else t.$dialog.alert({mes:"上传出错!"})}else{var c="上传出错,状态码为:"+s;t.$dialog.alert({mes:c})}}),n=0;n<e.length;n++){var o=e[n],r=o.substring(o.lastIndexOf("/")+1);i.addFile(o,{key:r})}i.start()},compressImg:function(e){for(var t=this,s=0;s<e.length;s++)!function(s){(e[s].endsWith(".jpg")||e[s].endsWith(".png"))&&plus.zip.compressImage({src:e[s],dst:e[s].replace(".jpg","_zip.jpg")},function(i){e[s]=i.target;var a=[];a.push(e[s]),t.upload(a)},function(e){})}(s)}},mounted:function(){if(!this.value)return void(this.files=[]);for(var e=JSON.parse(this.value),t=0;t<e.length;t++){var s=e[t];s.selected=!1,this.files.push(s)}},watch:{files:function(e,t){var s=a()(e);this.$emit("input",s)}}}},1251:function(e,t,s){t=e.exports=s(327)(!0),t.push([e.i,'.attacment img[data-v-3f5650be]{width:1.2rem;height:1.2rem;display:inline-block;margin-left:2px}.attacment[data-v-3f5650be]{width:4rem;height:1.2rem;display:-webkit-box;display:-ms-flexbox;display:flex}.attacment>div[data-v-3f5650be]:first-of-type{height:1.2rem;width:auto;white-space:nowrap;max-width:4rem;overflow-x:auto}.attacment>div[data-v-3f5650be]:nth-of-type(2){-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:1.2rem;width:1rem}div.file-container[data-v-3f5650be]{position:relative;height:1.2rem;margin-left:2px;display:inline-block}.file-remove[data-v-3f5650be]{position:absolute;top:0;right:0;display:block}.yd-icon-add[data-v-3f5650be]{margin-top:.16rem;display:block}.file-container>img[data-v-3f5650be]{display:block;width:auto;height:1.2rem}.yd-icon-removefile[data-v-3f5650be]:before{content:"\\E612";font-size:.6rem!important;color:#fff!important;font-weight:700}.file[data-v-3f5650be]{width:1.2rem;height:1.2rem;margin-left:2px}.yd-icon-video[data-v-3f5650be]:before{font-size:.8rem}',"",{version:3,sources:["E:/work/redxun/mobile/mobile/src/components/common/form/RxAttachment.vue"],names:[],mappings:"AACA,gCACE,aAAc,AACd,cAAe,AACf,qBAAsB,AACtB,eAAiB,CAClB,AACD,4BACE,WAAY,AACZ,cAAe,AACf,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CACf,AACD,8CACK,cAAe,AACf,WAAY,AACZ,mBAAmB,AACnB,eAAgB,AAChB,eAAiB,CACrB,AACD,+CACE,mBAAoB,AAChB,oBAAqB,AACjB,YAAa,AACrB,cAAe,AACZ,UAAY,CAChB,AACD,oCACK,kBAAmB,AACnB,cAAe,AACf,gBAAiB,AACjB,oBAAsB,CAC1B,AACD,8BACK,kBAAmB,AACnB,MAAS,AACT,QAAW,AACX,aAAe,CACnB,AACD,8BACK,kBAAmB,AACnB,aAAe,CACnB,AACD,qCACE,cAAe,AACf,WAAY,AACZ,aAAgB,CACjB,AACD,4CACE,gBAAiB,AACjB,0BAA6B,AAC1B,qBAAwB,AACxB,eAAkB,CACtB,AACD,uBACK,aAAc,AACd,cAAe,AACf,eAAiB,CACrB,AACD,uCACE,eAAkB,CACnB",file:"RxAttachment.vue",sourcesContent:['\n.attacment img[data-v-3f5650be]{\n\t\twidth: 1.2rem;\n\t\theight: 1.2rem;\n\t\tdisplay: inline-block;\n\t\tmargin-left: 2px;\n}\n.attacment[data-v-3f5650be]{\n\t\twidth: 4rem;\n\t\theight: 1.2rem;\n\t\tdisplay: -webkit-box;\n\t\tdisplay: -ms-flexbox;\n\t\tdisplay: flex;\n}\n.attacment > div[data-v-3f5650be]:nth-of-type(1){\n\t    height: 1.2rem;\n\t    width: auto;\n\t    white-space:nowrap;\n\t    max-width: 4rem;\n\t    overflow-x:auto ;\n}\n.attacment > div[data-v-3f5650be]:nth-of-type(2){\n\t\t-webkit-box-flex: 1;\n\t\t    -ms-flex-positive: 1;\n\t\t        flex-grow: 1;\n\t\theight: 1.2rem;\n    \twidth: 1rem;\n}\ndiv.file-container[data-v-3f5650be]{\n\t    position: relative;\n\t    height: 1.2rem;\n\t    margin-left: 2px;\n\t    display: inline-block;\n}\n.file-remove[data-v-3f5650be]{\n\t    position: absolute;\n\t    top:0rem;\n\t    right:0rem;\n\t    display: block;\n}\n.yd-icon-add[data-v-3f5650be]{\n\t    margin-top: .16rem;\n\t    display: block;\n}\n.file-container > img[data-v-3f5650be]{\n\t\tdisplay: block;\n\t\twidth: auto;\n\t\theight:  1.2rem;\n}\n.yd-icon-removefile[data-v-3f5650be]:before{\n\t\tcontent: "\\e612";\n\t\tfont-size: 0.6rem !important;\n\t    color: #fff !important ;\n\t    font-weight: bold;\n}\n.file[data-v-3f5650be]{\n\t    width: 1.2rem;\n\t    height: 1.2rem;\n\t    margin-left: 2px;\n}\n.yd-icon-video[data-v-3f5650be]:before{\n\t\tfont-size: 0.8rem;\n}\n\t\n'],sourceRoot:""}])},1252:function(e,t,s){var i=s(1251);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);s(1169)("157f5eec",i,!0)},1253:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return"r"==e.right?s("div",{staticClass:"attacment"},e._l(e.files,function(t,i){return s("div",{staticClass:"file-container"},[s("yd-lightbox",[s("yd-lightbox-img",{attrs:{src:e.imageUrl(t)}})],1)],1)})):"w"==e.right?s("div",{staticClass:"attacment"},[s("div",{staticClass:"div-left"},e._l(e.files,function(t,i){return s("div",{staticClass:"file-container"},[t.fileName.endsWith("mp4")?s("div",[t.selected?s("i",{staticClass:"file-remove yd-icon-removefile",on:{click:function(t){e.removeSelect(i)}}}):e._e(),e._v(" "),s("yd-icon",{attrs:{slot:"icon",name:"video",color:"#177cb0"},on:{click:function(t){e.checkFile(i)}},slot:"icon"})],1):s("div",[t.selected?s("i",{staticClass:"file-remove yd-icon-removefile",on:{click:function(t){e.removeSelect(i)}}}):e._e(),e._v(" "),s("img",{staticClass:"file",attrs:{src:e.imageUrl(t)},on:{click:function(t){e.checkFile(i)}}})])])})),e._v(" "),s("div",{staticClass:"div-right"},[s("i",{staticClass:"yd-icon-add",on:{click:function(t){e.showSelect=!0}}})]),e._v(" "),s("yd-actionsheet",{attrs:{items:e.operators,cancel:"取消"},model:{value:e.showSelect,callback:function(t){e.showSelect=t},expression:"showSelect"}})],1):e._e()},a=[],n={render:i,staticRenderFns:a};t.a=n},1444:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_vue__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_2__components_common_SysUser__=__webpack_require__(1170),__WEBPACK_IMPORTED_MODULE_3__components_common_rx_boxs__=__webpack_require__(1208),__WEBPACK_IMPORTED_MODULE_4__components_common_form_RxAttachment__=__webpack_require__(1246),__WEBPACK_IMPORTED_MODULE_5__router_index__=__webpack_require__(98),__WEBPACK_IMPORTED_MODULE_6__assets_util_js__=__webpack_require__(83),__WEBPACK_IMPORTED_MODULE_7__assets_app_js__=__webpack_require__(196);__WEBPACK_IMPORTED_MODULE_1_vue__.default.component(__WEBPACK_IMPORTED_MODULE_2__components_common_SysUser__.default.name,__WEBPACK_IMPORTED_MODULE_2__components_common_SysUser__.default),__WEBPACK_IMPORTED_MODULE_1_vue__.default.component(__WEBPACK_IMPORTED_MODULE_3__components_common_rx_boxs__.a.name,__WEBPACK_IMPORTED_MODULE_3__components_common_rx_boxs__.a),__WEBPACK_IMPORTED_MODULE_1_vue__.default.component(__WEBPACK_IMPORTED_MODULE_4__components_common_form_RxAttachment__.a.name,__WEBPACK_IMPORTED_MODULE_4__components_common_form_RxAttachment__.a);var actions={AGREE:{name:"通过",opinion:"同意"},BACK:{name:"驳回",opinion:"驳回"},BACK_TO_STARTOR:{name:"驳回",opinion:"驳回"}},_unused_webpack_default_export={name:"rx-approve",data:function(){return{bpmTask:{},destNodeUserList:[],isReachEndEvent:!1,taskConfig:{},showUserDialog:!1,opinion:"同意",destNodeId:"",showUser:!1,nodeUserVm:{},files:"[]",jumpType:"AGREE"}},mounted:function(){var e=this.$store.state.bpmModule.taskData;this.bpmTask=e.bpmTask,this.destNodeUserList=e.destNodeUserList,this.isReachEndEvent=e.isReachEndEvent,this.taskConfig=e.taskConfig},computed:{allowSelectPath:function(){return"true"==this.taskConfig.allowPathSelect&&this.destNodeUserList.length>1},allowSelectUser:function(){return"true"==this.taskConfig.allowNextExecutor}},methods:{changeOpinion:function(e){var t=e.srcElement.value;this.opinion=t},selectUserDialog:function(e){this.showUserDialog=!0,this.$refs.sysUser.search(),this.$refs.sysUser.setValue(""),this.nodeUserVm=e},selectUser:function(e){for(var t=[],s=0;s<e.length;s++){var i=e[s],a={};a.id=i.userId,a.text=i.fullname,t.push(a)}var n=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(t);this.nodeUserVm.setValue(n),this.showUserDialog=!1},handApprove:function(){console.info(this.jumpType),this.approve(this.jumpType)},getUserIds:function getUserIds(userJsons){var jsonAry=eval(userJsons),idAry=[];if(!jsonAry||0==jsonAry.length)return"";for(var i=0;i<jsonAry.length;i++){var o=jsonAry[i];idAry.push(o.id)}return idAry.join(",")},getUserJson:function(e,t){for(var s=[],i=0;i<e.length;i++){var a=e[i],n=a.taskNodeUser;if(n){var o=n.userJsons,r=this.getUserIds(o);if(!r)continue;var l={nodeId:n.nodeId,userIds:r};t?t==n.nodeId&&s.push(l):s.push(l)}else for(var c in a.fllowNodeUserMap){var d=a.fllowNodeUserMap[c],o=d.userJsons,r=this.getUserIds(o);if(r){var l={nodeId:d.nodeId,userIds:r};t?t==a.nodeId&&s.push(l):s.push(l)}}}return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(s)},getProcessCmd:function(e){var t=this.bpmTask,s={};actions[e];s.taskId=t.id,s.jumpType=e,s.opinion=this.opinion,s.isValid=!0,s.message="success";var i=this.$store.state.bpmModule.taskData,a=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__assets_app_js__.i)(i.formModels);s.jsonData=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(a),s.opFiles=this.files;var n=this.destNodeUserList;if(n.length>1&&!this.destNodeId)return s.isValid=!1,s.message="没有选择目标节点",s;this.destNodeId&&(s.destNodeId=this.destNodeId);var o=this.getUserJson(n,this.destNodeId);return s.destNodeUsers=o,s},cancel:function(){__WEBPACK_IMPORTED_MODULE_5__router_index__.a.go(-1)},approve:function(e){var t=this,s=this.getProcessCmd(e);if(!s.isValid)return void this.errorToast(s.message);delete s.isValid,delete s.message;var i=_baseUrl+"/bpm/core/bpmTask/doNext.do",a=__WEBPACK_IMPORTED_MODULE_6__assets_util_js__.a.serialJsonToForm(s);this.$ajax.post(i,a).then(function(e){t.$dialog.loading.close(),e.data.success?t.successToast("操作成功！",500,"myToDo"):t.errorToast("操作失败！")})},goMyToDo:function(){__WEBPACK_IMPORTED_MODULE_5__router_index__.a.push({name:"myToDo"})}}}},1490:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_vue__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_2__components_common_SysUser__=__webpack_require__(1170),__WEBPACK_IMPORTED_MODULE_3__components_common_rx_boxs__=__webpack_require__(1208),__WEBPACK_IMPORTED_MODULE_4__components_common_form_RxAttachment__=__webpack_require__(1246),__WEBPACK_IMPORTED_MODULE_5__router_index__=__webpack_require__(98),__WEBPACK_IMPORTED_MODULE_6__assets_util_js__=__webpack_require__(83),__WEBPACK_IMPORTED_MODULE_7__assets_app_js__=__webpack_require__(196);__WEBPACK_IMPORTED_MODULE_1_vue__.default.component(__WEBPACK_IMPORTED_MODULE_2__components_common_SysUser__.default.name,__WEBPACK_IMPORTED_MODULE_2__components_common_SysUser__.default),__WEBPACK_IMPORTED_MODULE_1_vue__.default.component(__WEBPACK_IMPORTED_MODULE_3__components_common_rx_boxs__.a.name,__WEBPACK_IMPORTED_MODULE_3__components_common_rx_boxs__.a),__WEBPACK_IMPORTED_MODULE_1_vue__.default.component(__WEBPACK_IMPORTED_MODULE_4__components_common_form_RxAttachment__.a.name,__WEBPACK_IMPORTED_MODULE_4__components_common_form_RxAttachment__.a);var actions={AGREE:{name:"通过",opinion:"同意"},BACK:{name:"驳回",opinion:"驳回"},BACK_TO_STARTOR:{name:"驳回",opinion:"驳回"}};__webpack_exports__.a={name:"rx-approve",data:function(){return{bpmTask:{},destNodeUserList:[],isReachEndEvent:!1,taskConfig:{},showUserDialog:!1,opinion:"同意",destNodeId:"",showUser:!1,nodeUserVm:{},files:"[]",jumpType:"AGREE"}},mounted:function(){var e=this.$store.state.bpmModule.taskData;this.bpmTask=e.bpmTask,this.destNodeUserList=e.destNodeUserList,this.isReachEndEvent=e.isReachEndEvent,this.taskConfig=e.taskConfig},computed:{allowSelectPath:function(){return"true"==this.taskConfig.allowPathSelect&&this.destNodeUserList.length>1},allowSelectUser:function(){return"true"==this.taskConfig.allowNextExecutor}},methods:{changeOpinion:function(e){var t=e.srcElement.value;this.opinion=t},selectUserDialog:function(e){this.showUserDialog=!0,this.$refs.sysUser.search(),this.$refs.sysUser.setValue(""),this.nodeUserVm=e},selectUser:function(e){for(var t=[],s=0;s<e.length;s++){var i=e[s],a={};a.id=i.userId,a.text=i.fullname,t.push(a)}var n=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(t);this.nodeUserVm.setValue(n),this.showUserDialog=!1},handApprove:function(){console.info(this.jumpType),this.approve(this.jumpType)},getUserIds:function getUserIds(userJsons){var jsonAry=eval(userJsons),idAry=[];if(!jsonAry||0==jsonAry.length)return"";for(var i=0;i<jsonAry.length;i++){var o=jsonAry[i];idAry.push(o.id)}return idAry.join(",")},getUserJson:function(e,t){for(var s=[],i=0;i<e.length;i++){var a=e[i],n=a.taskNodeUser;if(n){var o=n.userJsons,r=this.getUserIds(o);if(!r)continue;var l={nodeId:n.nodeId,userIds:r};t?t==n.nodeId&&s.push(l):s.push(l)}else for(var c in a.fllowNodeUserMap){var d=a.fllowNodeUserMap[c],o=d.userJsons,r=this.getUserIds(o);if(r){var l={nodeId:d.nodeId,userIds:r};t?t==a.nodeId&&s.push(l):s.push(l)}}}return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(s)},getProcessCmd:function(e){var t=this.bpmTask,s={};actions[e];s.taskId=t.id,s.jumpType=e,s.opinion=this.opinion,s.isValid=!0,s.message="success";var i=this.$store.state.bpmModule.taskData,a=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__assets_app_js__.i)(i.formModels);s.jsonData=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(a),s.opFiles=this.files;var n=this.destNodeUserList;if(n.length>1&&!this.destNodeId)return s.isValid=!1,s.message="没有选择目标节点",s;this.destNodeId&&(s.destNodeId=this.destNodeId);var o=this.getUserJson(n,this.destNodeId);return s.destNodeUsers=o,s},cancel:function(){__WEBPACK_IMPORTED_MODULE_5__router_index__.a.go(-1)},approve:function(e){var t=this,s=this.getProcessCmd(e);if(!s.isValid)return void this.errorToast(s.message);delete s.isValid,delete s.message;var i=_baseUrl+"/bpm/core/bpmTask/doNext.do",a=__WEBPACK_IMPORTED_MODULE_6__assets_util_js__.a.serialJsonToForm(s);this.$ajax.post(i,a).then(function(e){t.$dialog.loading.close(),e.data.success?t.successToast("操作成功！",500,"myToDo"):t.errorToast("操作失败！")})},goMyToDo:function(){__WEBPACK_IMPORTED_MODULE_5__router_index__.a.push({name:"myToDo"})}}}},1541:function(e,t,s){t=e.exports=s(327)(!0),t.push([e.i,".yd-flexbox-item-center[data-v-5a2908cc]{text-align:center;margin-top:2px;padding:0 5px}.yd-radio-text[data-v-5a2908cc]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:2.5rem;display:inline-block}.btn-select[data-v-5a2908cc]{display:table-cell;height:44px;vertical-align:middle}.cell-left[data-v-5a2908cc]{width:4rem;height:1.55rem;overflow-x:auto}","",{version:3,sources:["E:/work/redxun/mobile/mobile/src/components/bpm/approve.vue"],names:[],mappings:"AACA,yCACE,kBAAmB,AACnB,eAAgB,AAChB,aAAwB,CACzB,AACD,gCACK,gBAAiB,AACjB,uBAAwB,AACxB,mBAAoB,AACpB,aAAc,AAEd,oBAAsB,CAC1B,AACD,6BACK,mBAAoB,YAAa,qBAAuB,CAC5D,AACD,4BACK,WAAY,AACZ,eAAgB,AAChB,eAAiB,CACrB",file:"approve.vue",sourcesContent:["\n.yd-flexbox-item-center[data-v-5a2908cc]{\n\t\ttext-align: center;\n\t\tmargin-top: 2px;\n\t\tpadding:0px 5px 0px 5px;\n}\n.yd-radio-text[data-v-5a2908cc]{\n\t    overflow: hidden;\n\t    text-overflow: ellipsis;\n\t    white-space: nowrap;\n\t    width: 2.5rem;\n\t   \n\t    display: inline-block;\n}\n.btn-select[data-v-5a2908cc]{\n    \tdisplay: table-cell;height: 44px;vertical-align: middle;\n}\n.cell-left[data-v-5a2908cc]{\n\t    width: 4rem;\n\t    height: 1.55rem;\n\t    overflow-x: auto;\n}\n\t\n\t\n"],sourceRoot:""}])},1588:function(e,t,s){var i=s(1541);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);s(1169)("86ba507e",i,!0)},1636:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("yd-layout",[s("yd-navbar",{attrs:{slot:"navbar",title:"审批任务"},slot:"navbar"},[s("a",{attrs:{slot:"left",href:"javascript:;"},on:{click:e.goMyToDo},slot:"left"},[s("yd-navbar-back-icon")],1)]),e._v(" "),s("ul",{staticClass:"task-nodes"},e._l(e.destNodeUserList,function(t,i){return s("li",{staticClass:"node"},[t.taskNodeUser?s("dl",[s("dd",[s("ol",[s("li",{staticClass:"nodeId"},[e.allowSelectPath?s("rx-radio",{attrs:{name:"nodeId",val:t.nodeId},model:{value:e.destNodeId,callback:function(t){e.destNodeId=t},expression:"destNodeId"}},[e._v(e._s(t.nodeText))]):e._e(),e._v(" "),e.allowSelectPath?e._e():s("h1",[e._v(e._s(t.nodeText))])],1),e._v(" "),s("li",{staticClass:"userId"},[e.isReachEndEvent?e._e():s("rx-boxs",{attrs:{allowSelect:e.allowSelectUser,containstyle:"width:2.2rem;",textField:"text",valField:"id"},on:{select:e.selectUserDialog},model:{value:t.taskNodeUser.userJsons,callback:function(s){e.$set(t.taskNodeUser,"userJsons",s)},expression:"node.taskNodeUser.userJsons"}})],1)])])]):s("dl",[s("dd",[e.allowSelectPath?s("rx-radio",{attrs:{name:"nodeId",val:t.nodeId},model:{value:e.destNodeId,callback:function(t){e.destNodeId=t},expression:"destNodeId"}},[e._v(e._s(t.nodeText))]):e._e(),e._v(" "),e.allowSelectPath?e._e():s("h1",[e._v(e._s(t.nodeText))])],1),e._v(" "),s("dd",{staticClass:"node-s"},e._l(t.fllowNodeUserMap,function(t,i){return s("div",[s("ol",[s("li",[s("h1",[e._v(e._s(t.nodeText))])]),e._v(" "),s("li",[e.isReachEndEvent?e._e():s("rx-boxs",{attrs:{allowSelect:e.allowSelectUser,containstyle:"width:2.2rem;",textField:"text",valField:"id"},on:{select:e.selectUserDialog},model:{value:t.userJsons,callback:function(s){e.$set(t,"userJsons",s)},expression:"item.userJsons"}})],1)])])}))])])})),e._v(" "),s("ul",{staticClass:"task-nodes"},[s("li",{staticClass:"node"},[s("dl",[s("dd",[s("ol",[s("li",{staticClass:"nodeId"},[s("rx-radio",{attrs:{val:"AGREE",name:"jumpType"},model:{value:e.jumpType,callback:function(t){e.jumpType=t},expression:"jumpType"}},[e._v("通过")]),e._v(" "),s("rx-radio",{attrs:{val:"BACK",name:"jumpType"},model:{value:e.jumpType,callback:function(t){e.jumpType=t},expression:"jumpType"}},[e._v(" 驳回")]),e._v(" "),s("rx-radio",{attrs:{val:"BACK_TO_STARTOR",name:"jumpType"},model:{value:e.jumpType,callback:function(t){e.jumpType=t},expression:"jumpType"}},[e._v("驳回发起人 ")])],1)])])])])]),e._v(" "),s("yd-cell-group",[s("yd-cell-item",{attrs:{type:"label"}},[s("select",{attrs:{slot:"right"},on:{change:e.changeOpinion},slot:"right"},[s("option",{attrs:{value:""}},[e._v("选择")]),e._v(" "),s("option",{attrs:{value:"同意"}},[e._v("同意")]),e._v(" "),s("option",{attrs:{value:"不同意"}},[e._v("不同意")])])]),e._v(" "),s("yd-cell-item",[s("yd-textarea",{attrs:{slot:"right",placeholder:"请输入意见",maxlength:"200",value:e.opinion},slot:"right"})],1),e._v(" "),s("yd-cell-item",{attrs:{type:"label"}},[s("rx-attachment",{attrs:{slot:"right",readonly:!1},slot:"right",model:{value:e.files,callback:function(t){e.files=t},expression:"files"}})],1)],1),e._v(" "),s("yd-tabbar",{attrs:{slot:"tabbar"},slot:"tabbar"},[s("tabbar-item",{attrs:{title:"确定",name:"approve",type:"a",icon:"yd-icon-approve",active:!0},on:{handclick:function(t){e.handApprove()}}}),e._v(" "),s("tabbar-item",{attrs:{title:"取消",name:"cancel",type:"a",icon:"yd-icon-cancel"},on:{handclick:function(t){e.cancel()}}})],1),e._v(" "),s("yd-popup",{attrs:{position:"center",width:"100%"},model:{value:e.showUserDialog,callback:function(t){e.showUserDialog=t},expression:"showUserDialog"}},[s("rx-sysuser",{ref:"sysUser",attrs:{single:!1},on:{ok:e.selectUser,cancel:function(t){e.showUserDialog=!1}}})],1)],1)},a=[],n={render:i,staticRenderFns:a};t.a=n}});
//# sourceMappingURL=7.01277c886b9ca7672237.js.map